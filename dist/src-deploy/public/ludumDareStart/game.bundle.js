!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=104)}([function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var o=n(57),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var o=n(55),i=n(112),r=n(5);t.exports=function(t){return r(t)?o(t):i(t)}},function(t,e,n){var o=n(36),i=n(33);t.exports=function(t){return null!=t&&i(t.length)&&!o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var o=n(127),i=n(130);t.exports=function(t,e){var n=i(t,e);return o(n)?n:void 0}},function(t,e,n){var o=n(9),i=n(108),r=n(109),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?i(t):r(t)}},function(t,e,n){var o=n(1).Symbol;t.exports=o},function(t,e,n){var o=n(115),i=n(158),r=n(6),s=n(0),a=n(168);t.exports=function(t){return"function"==typeof t?t:null==t?r:"object"==typeof t?s(t)?i(t[0],t[1]):o(t):a(t)}},function(t,e,n){var o=n(8),i=n(3);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==o(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var o=n(11);t.exports=function(t){if("string"==typeof t||o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var o=n(79),i=n(47);t.exports=function(t,e,n,r){var s=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var c=e[a],h=r?r(n[c],t[c],c,n,t):void 0;void 0===h&&(h=t[c]),s?i(n,c,h):o(n,c,h)}return n}},function(t,e,n){t.exports&&(e=t.exports=function(t,e){"use strict";return Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}),e.prefix="",e._getPrefixedKey=function(t,e){return(e=e||{}).noPrefix?t:this.prefix+t},e.set=function(t,e,n){var o=this._getPrefixedKey(t,n);try{localStorage.setItem(o,JSON.stringify({data:e}))}catch(n){console&&console.warn("Lockr didn't successfully save the '{"+t+": "+e+"}' pair, because the localStorage is full.")}},e.get=function(t,e,n){var o,i=this._getPrefixedKey(t,n);try{o=JSON.parse(localStorage.getItem(i))}catch(t){o=localStorage[i]?{data:localStorage.getItem(i)}:null}return o?"object"==typeof o&&void 0!==o.data?o.data:void 0:e},e.sadd=function(t,n,o){var i,r=this._getPrefixedKey(t,o),s=e.smembers(t);if(s.indexOf(n)>-1)return null;try{s.push(n),i=JSON.stringify({data:s}),localStorage.setItem(r,i)}catch(e){console.log(e),console&&console.warn("Lockr didn't successfully add the "+n+" to "+t+" set, because the localStorage is full.")}},e.smembers=function(t,e){var n,o=this._getPrefixedKey(t,e);try{n=JSON.parse(localStorage.getItem(o))}catch(t){n=null}return n&&n.data?n.data:[]},e.sismember=function(t,n,o){return e.smembers(t).indexOf(n)>-1},e.keys=function(){var t=[],n=Object.keys(localStorage);return 0===e.prefix.length?n:(n.forEach((function(n){-1!==n.indexOf(e.prefix)&&t.push(n.replace(e.prefix,""))})),t)},e.getAll=function(t){var n=e.keys();return t?n.reduce((function(t,n){var o={};return o[n]=e.get(n),t.push(o),t}),[]):n.map((function(t){return e.get(t)}))},e.srem=function(t,n,o){var i,r,s=this._getPrefixedKey(t,o),a=e.smembers(t,n);(r=a.indexOf(n))>-1&&a.splice(r,1),i=JSON.stringify({data:a});try{localStorage.setItem(s,i)}catch(e){console&&console.warn("Lockr couldn't remove the "+n+" from the set "+t)}},e.rm=function(t){var e=this._getPrefixedKey(t);localStorage.removeItem(e)},e.flush=function(){e.prefix.length?e.keys().forEach((function(t){localStorage.removeItem(e._getPrefixedKey(t))})):localStorage.clear()},e}(0,e))},function(t,e,n){var o=n(107),i=n(3),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,u=o(function(){return arguments}())?o:function(t){return i(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var o=n(1),i=n(110),r=e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?o.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;t.exports=u}).call(this,n(31)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var o=n(21),i=n(122),r=n(123),s=n(124),a=n(125),u=n(126);function c(t){var e=this.__data__=new o(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,t.exports=c},function(t,e,n){var o=n(117),i=n(118),r=n(119),s=n(120),a=n(121);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var o=n(12);t.exports=function(t,e){for(var n=t.length;n--;)if(o(t[n][0],e))return n;return-1}},function(t,e,n){var o=n(7)(Object,"create");t.exports=o},function(t,e,n){var o=n(139);t.exports=function(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var o=n(153),i=n(37),r=n(154),s=n(155),a=n(156),u=n(8),c=n(62),h=c(o),d=c(i),l=c(r),f=c(s),p=c(a),m=u;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||r&&"[object Promise]"!=m(r.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,o=n?c(n):"";if(o)switch(o){case h:return"[object DataView]";case d:return"[object Map]";case l:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=m},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var o=n(12),i=n(5),r=n(18),s=n(2);t.exports=function(t,e,n){if(!s(n))return!1;var a=typeof e;return!!("number"==a?i(n)&&r(e,n.length):"string"==a&&e in n)&&o(n[e],t)}},function(t,e,n){var o=n(55),i=n(196),r=n(5);t.exports=function(t){return r(t)?o(t,!0):i(t)}},function(t,e,n){"use strict";(function(e){var n=void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},o={extend:function(t,e){for(var n in e)t[n]=e[n];return t},createNonEnumerable:function(t,e){var n={};for(var o in t)n[o]={value:t[o]};return Object.create(e||{},n)},error:function(t){var e=new Error(t);if(console)return console.error(e);throw e},each:function(t,e){var n,o,i;if(t&&t.constructor===Array)for(n=0,o=t.length;n<o;n++)e(t[n],n);else for(n=0,o=(i=Object.keys(t)).length;n<o;n++)e(t[i[n]],i[n])},addNE:function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e[n]})},createNE:function(t){var e={};for(var n in t)e[n]={writable:!0,configurable:!0,enumerable:!1,value:t[n]};return e},nextTick:function(){var t,e=[],o=!1,i=!!n.postMessage&&"undefined"!=typeof Window&&n instanceof Window,r="fzr"+Date.now(),s=i?function(){n.postMessage(r,"*")}:function(){setTimeout((function(){a()}),0)},a=i?function(t){t.data===r&&(t.stopPropagation(),u())}:u;function u(){for(o=!1;t=e.shift();)t()}function c(t){e.push(t),o||(o=!0,s())}return i&&n.addEventListener("message",a,!0),c.removeListener=function(){n.removeEventListener("message",a,!0)},c}(),findPivot:function(t){if(t&&t.__){if(t.__.pivot)return t;for(var e,n=0,o=t.__.parents,i=0;!n&&i<o.length;)(e=o[i]).__.pivot&&(n=e),i++;if(n)return n;for(i=0;!n&&i<o.length;)n=this.findPivot(o[i]),i++;return n}},isLeaf:function(t,e){var n;return!t||!(n=t.constructor)||(e?n===String||n===Number||n===Boolean:n!==Object&&n!==Array)},warn:function(){var t;void 0===e&&(arguments[0]||"undefined"==typeof console||((t=Array.prototype.slice.call(arguments,1))[0]="Freezer.js WARNING: "+t[0],console.warn.apply(console,t)))}};t.exports=o}).call(this,n(224))},function(t,e,n){var o=n(105),i=n(114)(o);t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var o=n(111),i=n(19),r=n(34),s=r&&r.isTypedArray,a=s?i(s):o;t.exports=a},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var o=n(57),i=e&&!e.nodeType&&e,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i&&o.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(31)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var o=n(8),i=n(2);t.exports=function(t){if(!i(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var o=n(7)(n(1),"Map");t.exports=o},function(t,e,n){var o=n(131),i=n(138),r=n(140),s=n(141),a=n(142);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}},function(t,e,n){var o=n(152),i=n(68),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(t){return null==t?[]:(t=Object(t),o(s(t),(function(e){return r.call(t,e)})))}:i;t.exports=a},function(t,e,n){var o=n(42),i=n(13);t.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[i(e[n++])];return n&&n==r?t:void 0}},function(t,e,n){var o=n(0),i=n(43),r=n(160),s=n(163);t.exports=function(t,e){return o(t)?t:i(t,e)?[t]:r(s(t))}},function(t,e,n){var o=n(0),i=n(11),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(s.test(t)||!r.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var o=n(6),i=n(178),r=n(180);t.exports=function(t,e){return r(i(t,e,o),t+"")}},function(t,e){var n=Math.floor,o=Math.random;t.exports=function(t,e){return t+n(o()*(e-t+1))}},function(t,e){t.exports=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}},function(t,e,n){var o=n(72);t.exports=function(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var o=n(59)(Object.getPrototypeOf,Object);t.exports=o},function(t,e,n){var o=n(65);t.exports=function(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var o=n(222),i=n(10),r=n(74),s=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var u=null==n?0:r(n);return u<0&&(u=s(a+u,0)),o(t,i(e,3),u)}},function(t,e,n){(function(n){var o;
/*!
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||r;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||r;if(t=parseFloat(t),e.ctx||f(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var o=e._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=e._howls[n]._soundById(o[i]);s&&s._node&&(s._node.volume=s._volume*t)}return e}return e._volume},mute:function(t){var e=this||r;e.ctx||f(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,r.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var o=e._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=e._howls[n]._soundById(o[i]);s&&s._node&&(s._node.muted=!!t||s._muted)}return e},stop:function(){for(var t=this||r,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||r,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,f()),t},codecs:function(t){return(this||r)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||r;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||r,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),o=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),i=o&&parseInt(o[0].split("/")[1],10)<33;return t._codecs={mp3:!(i||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||r;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var o=new Audio;o._unlocked=!0,t._releaseHtml5Audio(o)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var r=t._howls[i]._getSoundIds(),s=0;s<r.length;s++){var a=t._howls[i]._soundById(r[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),t}},_obtainHtml5Audio:function(){var t=this||r;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||r;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&r.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&r.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var r=new i,s=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(t){var e=this;return r.ctx||f(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=r.usingWebAudio&&!e._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(r.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,o;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(o=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(o))||(n=/\.([^.]+)$/.exec(o.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&r.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,o=null;if("number"==typeof t)o=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,o=n._sounds[s]._id);1===i?t=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!t&&(t=a._sprite||"__default"),"loaded"!==n._state){a._sprite=t,a._ended=!1;var u=a._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(o&&!a._paused)return e||n._loadQueue("play"),a._id;n._webAudio&&r._autoResume();var c=Math.max(0,a._seek>0?a._seek:n._sprite[t][0]/1e3),h=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-c),d=1e3*h/Math.abs(a._rate),l=n._sprite[t][0]/1e3,f=(n._sprite[t][0]+n._sprite[t][1])/1e3;a._sprite=t,a._ended=!1;var p=function(){a._paused=!1,a._seek=c,a._start=l,a._stop=f,a._loop=!(!a._loop&&!n._sprite[t][2])};if(!(c>=f)){var m=a._node;if(n._webAudio){var v=function(){n._playLock=!1,p(),n._refreshBuffer(a);var t=a._muted||n._muted?0:a._volume;m.gain.setValueAtTime(t,r.ctx.currentTime),a._playStart=r.ctx.currentTime,void 0===m.bufferSource.start?a._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,h):a._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,h),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),e||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===r.state&&"interrupted"!==r.ctx.state?v():(n._playLock=!0,n.once("resume",v),n._clearTimer(a._id))}else{var _=function(){m.currentTime=c,m.muted=a._muted||n._muted||r._muted||m.muted,m.volume=a._volume*r.volume(),m.playbackRate=a._rate;try{var o=m.play();if(o&&"undefined"!=typeof Promise&&(o instanceof Promise||"function"==typeof o.then)?(n._playLock=!0,p(),o.then((function(){n._playLock=!1,m._unlocked=!0,e||(n._emit("play",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):e||(n._playLock=!1,p(),n._emit("play",a._id),n._loadQueue()),m.playbackRate=a._rate,m.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),m.removeEventListener("ended",n._endTimers[a._id],!1)},m.addEventListener("ended",n._endTimers[a._id],!1))}catch(t){n._emit("playerror",a._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var y=window&&window.ejecta||!m.readyState&&r._navigator.isCocoonJS;if(m.readyState>=3||y)_();else{n._playLock=!0;var b=function(){_(),m.removeEventListener(r._canPlayEvent,b,!1)};m.addEventListener(r._canPlayEvent,b,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),o=0;o<n.length;o++){e._clearTimer(n[o]);var i=e._soundById(n[o]);if(i&&!i._paused&&(i._seek=e.seek(n[o]),i._rateSeek=0,i._paused=!0,e._stopFade(n[o]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var o=n._getSoundIds(t),i=0;i<o.length;i++){n._clearTimer(o[i]);var r=n._soundById(o[i]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,n._stopFade(o[i]),r._node&&(n._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&n._clearSound(r._node))),e||n._emit("stop",r._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var o=n._getSoundIds(e),i=0;i<o.length;i++){var s=n._soundById(o[i]);s&&(s._muted=t,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(t?0:s._volume,r.ctx.currentTime):s._node&&(s._node.muted=!!r._muted||t),n._emit("mute",s._id))}return n},volume:function(){var t,e,n,o=this,i=arguments;if(0===i.length)return o._volume;if(1===i.length||2===i.length&&void 0===i[1]){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?o._soundById(e):o._sounds[0])?n._volume:0;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"volume",action:function(){o.volume.apply(o,i)}}),o;void 0===e&&(o._volume=t),e=o._getSoundIds(e);for(var u=0;u<e.length;u++)(n=o._soundById(e[u]))&&(n._volume=t,i[2]||o._stopFade(e[u]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*r.volume()),o._emit("volume",n._id));return o},fade:function(t,e,n,o){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,o)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),i.volume(t,o);for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var u=i._soundById(s[a]);if(u){if(o||i._stopFade(s[a]),i._webAudio&&!u._muted){var c=r.ctx.currentTime,h=c+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,c),u._node.gain.linearRampToValueAtTime(e,h)}i._startFadeInterval(u,t,e,n,s[a],void 0===o)}}return i},_startFadeInterval:function(t,e,n,o,i,r){var s=this,a=e,u=n-e,c=Math.abs(u/.01),h=Math.max(4,c>0?o/c:o),d=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var i=(Date.now()-d)/o;d=Date.now(),a+=u*i,a=u<0?Math.max(n,a):Math.min(n,a),a=Math.round(100*a)/100,s._webAudio?t._volume=a:s.volume(a,t._id,!0),r&&(s._volume=a),(n<e&&a<=n||n>e&&a>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,s.volume(n,t._id),s._emit("fade",t._id))}),h)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,o=this,i=arguments;if(0===i.length)return o._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=o._soundById(parseInt(i[0],10)))&&n._loop;t=i[0],o._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var r=o._getSoundIds(e),s=0;s<r.length;s++)(n=o._soundById(r[s]))&&(n._loop=t,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return o},rate:function(){var t,e,n,o=this,i=arguments;if(0===i.length)e=o._sounds[0]._id;else if(1===i.length){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!=typeof t)return(n=o._soundById(e))?n._rate:o._rate;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"rate",action:function(){o.rate.apply(o,i)}}),o;void 0===e&&(o._rate=t),e=o._getSoundIds(e);for(var u=0;u<e.length;u++)if(n=o._soundById(e[u])){o.playing(e[u])&&(n._rateSeek=o.seek(e[u]),n._playStart=o._webAudio?r.ctx.currentTime:n._playStart),n._rate=t,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,r.ctx.currentTime):n._node&&(n._node.playbackRate=t);var c=o.seek(e[u]),h=(o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-c,d=1e3*h/Math.abs(n._rate);!o._endTimers[e[u]]&&n._paused||(o._clearTimer(e[u]),o._endTimers[e[u]]=setTimeout(o._ended.bind(o,n),d)),o._emit("rate",n._id)}return o},seek:function(){var t,e,n=this,o=arguments;if(0===o.length)e=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?e=parseInt(o[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(o[0]))}else 2===o.length&&(t=parseFloat(o[0]),e=parseInt(o[1],10));if(void 0===e)return n;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"seek",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(e);if(a){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?r.ctx.currentTime-a._playStart:0,c=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(c+u*Math.abs(a._rate))}return a._node.currentTime}var h=n.playing(e);h&&n.pause(e,!0),a._seek=t,a._ended=!1,n._clearTimer(e),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=t);var d=function(){n._emit("seek",e),h&&n.play(e,!0)};if(h&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):d()};setTimeout(l,0)}else d()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(r._canPlayEvent,e[n]._loadFn,!1),r._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var o=r._howls.indexOf(t);o>=0&&r._howls.splice(o,1);var i=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===t._src||t._src.indexOf(r._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[t._src],r.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,o){var i=this["_on"+t];return"function"==typeof e&&i.push(o?{id:n,fn:e,once:o}:{id:n,fn:e}),this},off:function(t,e,n){var o=this["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<o.length;i++){var r=n===o[i].id;if(e===o[i].fn&&r||!e&&r){o.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var s=Object.keys(this);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(this[s[i]])&&(this[s[i]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var o=this["_on"+t],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(this,o[i].fn),0),o[i].once&&this.off(t,o[i].fn,o[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=r.ctx.currentTime;var o=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),o)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),r._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new a(this)},_drain:function(){var t=this._pool,e=0,n=0;if(!(this._sounds.length<t)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&e++;for(n=this._sounds.length-1;n>=0;n--){if(e<=t)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=r.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,r.ctx.currentTime),this},_cleanBuffer:function(t){var e=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=r._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(t){this._parent=t,this.init()};a.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=r._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(e,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):r.noAudio||(this._node=r._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*r.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)}};var u={},c=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void l(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n.charCodeAt(i);d(o.buffer,t)}else{var r=new XMLHttpRequest;r.open(t._xhr.method,e,!0),r.withCredentials=t._xhr.withCredentials,r.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){r.setRequestHeader(e,t._xhr.headers[e])})),r.onload=function(){var e=(r.status+"")[0];"0"===e||"2"===e||"3"===e?d(r.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},h(r)}},h=function(t){try{t.send()}catch(e){t.onerror()}},d=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},o=function(t){t&&e._sounds.length>0?(u[e._src]=t,l(e,t)):n()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(t).then(o).catch(n):r.ctx.decodeAudioData(t,o,n)},l=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},f=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(t){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),e=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var o=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!o&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(o=function(){return{Howler:r,Howl:s}}.apply(e,[]))||(t.exports=o),e.Howler=r,e.Howl=s,void 0!==n?(n.HowlerGlobal=i,n.Howler=r,n.Howl=s,n.Sound=a):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=r,window.Howl=s,window.Sound=a)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.0
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof t?this._pos:(this._pos=[t,e,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,n,o,i,r){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return e="number"!=typeof e?s[1]:e,n="number"!=typeof n?s[2]:n,o="number"!=typeof o?s[3]:o,i="number"!=typeof i?s[4]:i,r="number"!=typeof r?s[5]:r,"number"!=typeof t?s:(this._orientation=[t,e,n,o,i,r],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,o,i,r),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(t,n)}}),o;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return o._stereo;o._stereo=t,o._pos=[t,0,0]}for(var r=o._getSoundIds(n),s=0;s<r.length;s++){var a=o._soundById(r[s]);if(a){if("number"!=typeof t)return a._stereo;a._stereo=t,a._pos=[t,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||e(a,i),"spatial"===i?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(t,0,0):a._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),o._emit("stereo",a._id)}}return o},Howl.prototype.pos=function(t,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(t,n,o,i)}}),r;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===i){if("number"!=typeof t)return r._pos;r._pos=[t,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var u=r._soundById(s[a]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,o],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(t,n,o)),r._emit("pos",u._id)}}return r},Howl.prototype.orientation=function(t,n,o,i){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(t,n,o,i)}}),r;if(n="number"!=typeof n?r._orientation[1]:n,o="number"!=typeof o?r._orientation[2]:o,void 0===i){if("number"!=typeof t)return r._orientation;r._orientation=[t,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var u=r._soundById(s[a]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,o],u._node&&(u._panner||(u._pos||(u._pos=r._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,o)),r._emit("orientation",u._id)}}return r},Howl.prototype.pannerAttr=function(){var t,n,o,i=this,r=arguments;if(!i._webAudio)return i;if(0===r.length)return i._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=i._soundById(parseInt(r[0],10)))?o._pannerAttr:i._pannerAttr;t=r[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===r.length&&(t=r[0],n=parseInt(r[1],10));for(var s=i._getSoundIds(n),a=0;a<s.length;a++)if(o=i._soundById(s[a])){var u=o._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var c=o._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(o._pos||(o._pos=i._pos||[0,0,-.5]),e(o,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,n(58))},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t}},function(t,e,n){var o=n(106)();t.exports=o},function(t,e,n){var o=n(56),i=n(16),r=n(0),s=n(17),a=n(18),u=n(32),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=r(t),h=!n&&i(t),d=!n&&!h&&s(t),l=!n&&!h&&!d&&u(t),f=n||h||d||l,p=f?o(t.length,String):[],m=p.length;for(var v in t)!e&&!c.call(t,v)||f&&("length"==v||d&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||a(v,m))||p.push(v);return p}},function(t,e){t.exports=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(58))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var o=n(6);t.exports=function(t){return"function"==typeof t?t:o}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var o=n(143),i=n(3);t.exports=function t(e,n,r,s,a){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:o(e,n,r,s,t,a))}},function(t,e,n){var o=n(144),i=n(61),r=n(147);t.exports=function(t,e,n,s,a,u){var c=1&n,h=t.length,d=e.length;if(h!=d&&!(c&&d>h))return!1;var l=u.get(t);if(l&&u.get(e))return l==e;var f=-1,p=!0,m=2&n?new o:void 0;for(u.set(t,e),u.set(e,t);++f<h;){var v=t[f],_=e[f];if(s)var y=c?s(_,v,f,e,t,u):s(v,_,f,t,e,u);if(void 0!==y){if(y)continue;p=!1;break}if(m){if(!i(e,(function(t,e){if(!r(m,e)&&(v===t||a(v,t,n,s,u)))return m.push(e)}))){p=!1;break}}else if(v!==_&&!a(v,_,n,s,u)){p=!1;break}}return u.delete(t),u.delete(e),p}},function(t,e,n){var o=n(1).Uint8Array;t.exports=o},function(t,e,n){var o=n(67),i=n(40),r=n(4);t.exports=function(t){return o(t,r,i)}},function(t,e,n){var o=n(39),i=n(0);t.exports=function(t,e,n){var r=e(t);return i(t)?r:o(r,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var o=n(2);t.exports=function(t){return t==t&&!o(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var o=n(30),i=n(5);t.exports=function(t,e){var n=-1,r=i(t)?Array(t.length):[];return o(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}},function(t,e,n){var o=n(7),i=function(){try{var t=o(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){var o=n(2),i=n(11),r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=a.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):s.test(t)?NaN:+t}},function(t,e,n){var o=n(75);t.exports=function(t){var e=o(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var o=n(73);t.exports=function(t){return t?(t=o(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var o=n(45);t.exports=function(t){var e=t.length;return e?t[o(0,e-1)]:void 0}},function(t,e,n){var o=n(190),i=n(4);t.exports=function(t){return null==t?[]:o(t,i(t))}},function(t,e,n){var o=n(45);t.exports=function(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var s=o(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}},function(t,e,n){var o=n(47),i=n(12),r=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];r.call(t,e)&&i(s,n)&&(void 0!==n||e in t)||o(t,e,n)}},function(t,e,n){(function(t){var o=n(1),i=e&&!e.nodeType&&e,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i?o.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,o=a?a(n):new t.constructor(n);return t.copy(o),o}}).call(this,n(31)(t))},function(t,e,n){var o=n(39),i=n(48),r=n(40),s=n(68),a=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)o(e,r(t)),t=i(t);return e}:s;t.exports=a},function(t,e,n){var o=n(49);t.exports=function(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var o=n(206),i=n(48),r=n(35);t.exports=function(t){return"function"!=typeof t.constructor||r(t)?{}:o(i(t))}},function(t,e,n){var o=n(47),i=n(12);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&o(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var o,i;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(i="function"==typeof(o=function(){var t,e,n,o,i,r={},s={},a={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:a.currentLocale,zeroFormat:a.zeroFormat,nullFormat:a.nullFormat,defaultFormat:a.defaultFormat,scalePercentBy100:a.scalePercentBy100};function c(t,e){this._input=t,this._value=e}return(t=function(n){var o,i,s,a;if(t.isNumeral(n))o=n.value();else if(0===n||void 0===n)o=0;else if(null===n||e.isNaN(n))o=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)o=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)o=null;else{for(i in r)if((a="function"==typeof r[i].regexps.unformat?r[i].regexps.unformat():r[i].regexps.unformat)&&n.match(a)){s=r[i].unformat;break}o=(s=s||t._.stringToNumber)(n)}else o=Number(n)||null;return new c(n,o)}).version="2.0.6",t.isNumeral=function(t){return t instanceof c},t._=e={numberToFormat:function(e,n,o){var i,r,a,u,c,h,d,l,f=s[t.options.currentLocale],p=!1,m=!1,v="",_="",y=!1;if(e=e||0,a=Math.abs(e),t._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(h=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(r=!!(r=n.match(/a(k|m|b|t)?/))&&r[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),a>=1e12&&!r||"t"===r?(v+=f.abbreviations.trillion,e/=1e12):a<1e12&&a>=1e9&&!r||"b"===r?(v+=f.abbreviations.billion,e/=1e9):a<1e9&&a>=1e6&&!r||"m"===r?(v+=f.abbreviations.million,e/=1e6):(a<1e6&&a>=1e3&&!r||"k"===r)&&(v+=f.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),u=e.toString().split(".")[0],c=n.split(".")[1],d=n.indexOf(","),i=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(t._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),_=t._.toFixed(e,c[0].length+c[1].length,o,c[1].length)):_=t._.toFixed(e,c.length,o),u=_.split(".")[0],_=t._.includes(_,".")?f.delimiters.decimal+_.split(".")[1]:"",m&&0===Number(_.slice(1))&&(_="")):u=t._.toFixed(e,0,o),v&&!r&&Number(u)>=1e3&&v!==f.abbreviations.trillion)switch(u=String(Number(u)/1e3),v){case f.abbreviations.thousand:v=f.abbreviations.million;break;case f.abbreviations.million:v=f.abbreviations.billion;break;case f.abbreviations.billion:v=f.abbreviations.trillion}if(t._.includes(u,"-")&&(u=u.slice(1),y=!0),u.length<i)for(var b=i-u.length;b>0;b--)u="0"+u;return d>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(u=""),l=u+_+(v||""),p?l=(p&&y?"(":"")+l+(p&&y?")":""):h>=0?l=0===h?(y?"-":"+")+l:l+(y?"-":"+"):y&&(l="-"+l),l},stringToNumber:function(t){var e,n,o,i=s[u.currentLocale],r=t,a={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)n=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),a)if(o=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),r.match(o)){n*=Math.pow(10,a[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,o=Object(t),i=o.length>>>0,r=0;if(3===arguments.length)n=arguments[2];else{for(;r<i&&!(r in o);)r++;if(r>=i)throw new TypeError("Reduce of empty array with no initial value");n=o[r++]}for(;r<i;r++)r in o&&(n=e(n,o[r],r,o));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var o=e.multiplier(n);return t>o?t:o}),1)},toFixed:function(t,e,n,o){var i,r,s,a,u=t.toString().split("."),c=e-(o||0);return i=2===u.length?Math.min(Math.max(u[1].length,c),e):c,s=Math.pow(10,i),a=(n(t+"e+"+i)/s).toFixed(i),o>e-i&&(r=new RegExp("\\.?0{1,"+(o-(e-i))+"}$"),a=a.replace(r,"")),a}},t.options=u,t.formats=r,t.locales=s,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return s[u.currentLocale];if(t=t.toLowerCase(),!s[t])throw new Error("Unknown locale : "+t);return s[t]},t.reset=function(){for(var t in a)u[t]=a[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var o,i,r,s,a,u,c,h;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(e){c=t.localeData(t.locale())}return r=c.currency.symbol,a=c.abbreviations,o=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(h=e.match(/^[^\d]+/))&&(e=e.substr(1),h[0]!==r)||null!==(h=e.match(/[^\d]+$/))&&(e=e.slice(0,-1),h[0]!==a.thousand&&h[0]!==a.million&&h[0]!==a.billion&&h[0]!==a.trillion)||(u=new RegExp(i+"{2}"),e.match(/[^\d.,]/g)||(s=e.split(o)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(u):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(u)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(u)||!s[1].match(/^\d+$/))))},t.fn=c.prototype={clone:function(){return t(this)},format:function(e,n){var o,i,s,a=this._value,c=e||u.defaultFormat;if(n=n||Math.round,0===a&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===a&&null!==u.nullFormat)i=u.nullFormat;else{for(o in r)if(c.match(r[o].regexps.format)){s=r[o].format;break}i=(s=s||t._.numberToFormat)(a,c,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,o,i){return t+Math.round(n*e)}),0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,o,i){return t-Math.round(n*e)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,n,o,i){var r=e.correctionFactor(t,n);return Math.round(t*r)*Math.round(n*r)/Math.round(r*r)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,n,o,i){var r=e.correctionFactor(t,n);return Math.round(t*r)/Math.round(n*r)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,o){var i,r=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,o),t._.includes(i,")")?((i=i.split("")).splice(-1,0,r+"BPS"),i=i.join("")):i=i+r+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),o={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(o.suffixes.filter((function(t){return n.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,r){var s,a,u,c=t._.includes(i,"ib")?o:n,h=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=c.suffixes.length;s++)if(a=Math.pow(c.base,s),u=Math.pow(c.base,s+1),null===e||0===e||e>=a&&e<u){h+=c.suffixes[s],a>0&&(e/=a);break}return t._.numberToFormat(e,i,r)+h},unformat:function(e){var i,r,s=t._.stringToNumber(e);if(s){for(i=n.suffixes.length-1;i>=0;i--){if(t._.includes(e,n.suffixes[i])){r=Math.pow(n.base,i);break}if(t._.includes(e,o.suffixes[i])){r=Math.pow(o.base,i);break}}s*=r||1}return s}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,o){var i,r,s=t.locales[t.options.currentLocale],a={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,o),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(a.before,"-")&&!t._.includes(a.before,"(")&&(a.before="-"+a.before),r=0;r<a.before.length;r++)switch(a.before[r]){case"$":i=t._.insert(i,s.currency.symbol,r);break;case" ":i=t._.insert(i," ",r+s.currency.symbol.length-1)}for(r=a.after.length-1;r>=0;r--)switch(a.after[r]){case"$":i=r===a.after.length-1?i+s.currency.symbol:t._.insert(i,s.currency.symbol,-(a.after.length-(1+r)));break;case" ":i=r===a.after.length-1?i+" ":t._.insert(i," ",-(a.after.length-(1+r)+s.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,o){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,o)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),o=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([o,Math.pow(10,i)],(function(e,n,o,i){var r=t._.correctionFactor(e,n);return e*r*(n*r)/(r*r)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,o){var i=t.locales[t.options.currentLocale],r=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),r+=i.ordinal(e),t._.numberToFormat(e,n,o)+r}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,o){var i,r=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,o),t._.includes(i,")")?((i=i.split("")).splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var o=Math.floor(t/60/60),i=Math.floor((t-60*o*60)/60),r=Math.round(t-60*o*60-60*i);return o+":"+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?o.call(e,n,e,t):o)||(t.exports=i)},function(t,e,n){var o=n(223);t.exports=o},function(t,e,n){"use strict";var o=n(29),i="beforeAll",r="afterAll",s=[i,r],a={on:function(t,e,n){var o=this._events[t]||[];return o.push({callback:e,once:n}),this._events[t]=o,this},once:function(t,e){return this.on(t,e,!0)},off:function(t,e){if(void 0===t)this._events={};else if(void 0===e)this._events[t]=[];else{var n,o=this._events[t]||[];for(n=o.length-1;n>=0;n--)o[n].callback===e&&o.splice(n,1)}return this},emit:function(t){var e,n,o,a,u=[].slice.call(arguments,1),c=this._events[t]||[],h=[],d=-1!==s.indexOf(t);for(d||this.emit.apply(this,[i,t].concat(u)),e=0;e<c.length;e++)(n=c[e]).callback?a=n.callback.apply(this,u):n.once=!0,n.once&&h.push(e),void 0!==a&&(o=a);for(e=h.length-1;e>=0;e--)c.splice(h[e],1);return d||this.emit.apply(this,[r,t].concat(u)),o},trigger:function(){return o.warn(!1,"Method `trigger` is deprecated and will be removed from freezer in upcoming releases. Please use `emit`."),this.emit.apply(this,arguments)}},u=o.createNonEnumerable(a);t.exports=u},function(t,e,n){var o=n(53),i=n(30),r=n(60),s=n(0);t.exports=function(t,e){return(s(t)?o:i)(t,r(e))}},function(t,e,n){var o=n(61),i=n(10),r=n(171),s=n(0),a=n(27);t.exports=function(t,e,n){var u=s(t)?o:r;return n&&a(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e,n){var o=n(26),i=n(10),r=n(71),s=n(0);t.exports=function(t,e){return(s(t)?o:r)(t,i(e,3))}},function(t,e,n){var o=n(172),i=n(174),r=n(44),s=n(27),a=r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&s(t,e[0],e[1])?e=[]:n>2&&s(e[0],e[1],e[2])&&(e=[e[0]]),i(t,o(e,1),[])}));t.exports=a},function(t,e,n){var o=n(183),i=n(44),r=n(73),s=i((function(t,e,n){return o(t,r(e)||0,n)}));t.exports=s},function(t,e,n){var o=n(56),i=n(60),r=n(74),s=Math.min;t.exports=function(t,e){if((t=r(t))<1||t>9007199254740991)return[];var n=4294967295,a=s(t,4294967295);e=i(e),t-=4294967295;for(var u=o(a,e);++n<t;)e(n);return u}},function(t,e,n){var o=n(45),i=n(27),r=n(75),s=parseFloat,a=Math.min,u=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&i(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=r(t),void 0===e?(e=t,t=0):e=r(e)),t>e){var c=t;t=e,e=c}if(n||t%1||e%1){var h=u();return a(t+h*(e-t+s("1e-"+((h+"").length-1))),e)}return o(t,e)}},function(t,e,n){var o=n(10),i=n(184);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,s=[],a=t.length;for(e=o(e,3);++r<a;){var u=t[r];e(u,r,t)&&(n.push(u),s.push(r))}return i(t,s),n}},function(t,e,n){var o=n(76),i=n(189),r=n(0);t.exports=function(t){return(r(t)?o:i)(t)}},function(t,e,n){var o=n(191),i=n(192),r=n(0);t.exports=function(t){return(r(t)?o:i)(t)}},function(t,e,n){var o=n(193);t.exports=function(t){return o(t,4)}},function(t,e,n){var o=n(211),i=n(212),r=n(6);t.exports=function(t){return t&&t.length?o(t,r,i):void 0}},function(t,e,n){var o=n(213),i=n(6);t.exports=function(t){return o(t,i)}},function(t,e,n){var o=n(215),i=n(220)((function(t,e,n){o(t,e,n)}));t.exports=i},function(t,e,n){var o=n(221)(n(51));t.exports=o},function(t,e,n){t.exports=n(228)},function(t,e,n){var o=n(54),i=n(4);t.exports=function(t,e){return t&&o(t,e,i)}},function(t,e){t.exports=function(t){return function(e,n,o){for(var i=-1,r=Object(e),s=o(e),a=s.length;a--;){var u=s[t?a:++i];if(!1===n(r[u],u,r))break}return e}}},function(t,e,n){var o=n(8),i=n(3);t.exports=function(t){return i(t)&&"[object Arguments]"==o(t)}},function(t,e,n){var o=n(9),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=r.call(t,a),n=t[a];try{t[a]=void 0;var o=!0}catch(t){}var i=s.call(t);return o&&(e?t[a]=n:delete t[a]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var o=n(8),i=n(33),r=n(3),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&i(t.length)&&!!s[o(t)]}},function(t,e,n){var o=n(35),i=n(113),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return i(t);var e=[];for(var n in Object(t))r.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var o=n(59)(Object.keys,Object);t.exports=o},function(t,e,n){var o=n(5);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!o(n))return t(n,i);for(var r=n.length,s=e?r:-1,a=Object(n);(e?s--:++s<r)&&!1!==i(a[s],s,a););return n}}},function(t,e,n){var o=n(116),i=n(157),r=n(70);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?r(e[0][0],e[0][1]):function(n){return n===t||o(n,t,e)}}},function(t,e,n){var o=n(20),i=n(63);t.exports=function(t,e,n,r){var s=n.length,a=s,u=!r;if(null==t)return!a;for(t=Object(t);s--;){var c=n[s];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<a;){var h=(c=n[s])[0],d=t[h],l=c[1];if(u&&c[2]){if(void 0===d&&!(h in t))return!1}else{var f=new o;if(r)var p=r(d,l,h,t,e,f);if(!(void 0===p?i(l,d,3,r,f):p))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var o=n(22),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var o=n(22);t.exports=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var o=n(22);t.exports=function(t){return o(this.__data__,t)>-1}},function(t,e,n){var o=n(22);t.exports=function(t,e){var n=this.__data__,i=o(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var o=n(21);t.exports=function(){this.__data__=new o,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var o=n(21),i=n(37),r=n(38);t.exports=function(t,e){var n=this.__data__;if(n instanceof o){var s=n.__data__;if(!i||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new r(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var o=n(36),i=n(128),r=n(2),s=n(62),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,d=c.hasOwnProperty,l=RegExp("^"+h.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!r(t)||i(t))&&(o(t)?l:a).test(s(t))}},function(t,e,n){var o,i=n(129),r=(o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!r&&r in t}},function(t,e,n){var o=n(1)["__core-js_shared__"];t.exports=o},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var o=n(132),i=n(21),r=n(37);t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},function(t,e,n){var o=n(133),i=n(134),r=n(135),s=n(136),a=n(137);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=r,u.prototype.has=s,u.prototype.set=a,t.exports=u},function(t,e,n){var o=n(23);t.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var o=n(23),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var o=n(23),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return o?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var o=n(23);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var o=n(24);t.exports=function(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var o=n(24);t.exports=function(t){return o(this,t).get(t)}},function(t,e,n){var o=n(24);t.exports=function(t){return o(this,t).has(t)}},function(t,e,n){var o=n(24);t.exports=function(t,e){var n=o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var o=n(20),i=n(64),r=n(148),s=n(151),a=n(25),u=n(0),c=n(17),h=n(32),d="[object Object]",l=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,f,p,m){var v=u(t),_=u(e),y=v?"[object Array]":a(t),b=_?"[object Array]":a(e),g=(y="[object Arguments]"==y?d:y)==d,x=(b="[object Arguments]"==b?d:b)==d,w=y==b;if(w&&c(t)){if(!c(e))return!1;v=!0,g=!1}if(w&&!g)return m||(m=new o),v||h(t)?i(t,e,n,f,p,m):r(t,e,y,n,f,p,m);if(!(1&n)){var A=g&&l.call(t,"__wrapped__"),T=x&&l.call(e,"__wrapped__");if(A||T){var P=A?t.value():t,I=T?e.value():e;return m||(m=new o),p(P,I,n,f,m)}}return!!w&&(m||(m=new o),s(t,e,n,f,p,m))}},function(t,e,n){var o=n(38),i=n(145),r=n(146);function s(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new o;++e<n;)this.add(t[e])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,t.exports=s},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var o=n(9),i=n(65),r=n(12),s=n(64),a=n(149),u=n(150),c=o?o.prototype:void 0,h=c?c.valueOf:void 0;t.exports=function(t,e,n,o,c,d,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=a;case"[object Set]":var p=1&o;if(f||(f=u),t.size!=e.size&&!p)return!1;var m=l.get(t);if(m)return m==e;o|=2,l.set(t,e);var v=s(f(t),f(e),o,c,d,l);return l.delete(t),v;case"[object Symbol]":if(h)return h.call(t)==h.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var o=n(66),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,s,a){var u=1&n,c=o(t),h=c.length;if(h!=o(e).length&&!u)return!1;for(var d=h;d--;){var l=c[d];if(!(u?l in e:i.call(e,l)))return!1}var f=a.get(t);if(f&&a.get(e))return f==e;var p=!0;a.set(t,e),a.set(e,t);for(var m=u;++d<h;){var v=t[l=c[d]],_=e[l];if(r)var y=u?r(_,v,l,e,t,a):r(v,_,l,t,e,a);if(!(void 0===y?v===_||s(v,_,n,r,a):y)){p=!1;break}m||(m="constructor"==l)}if(p&&!m){var b=t.constructor,g=e.constructor;b==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(p=!1)}return a.delete(t),a.delete(e),p}},function(t,e){t.exports=function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r}},function(t,e,n){var o=n(7)(n(1),"DataView");t.exports=o},function(t,e,n){var o=n(7)(n(1),"Promise");t.exports=o},function(t,e,n){var o=n(7)(n(1),"Set");t.exports=o},function(t,e,n){var o=n(7)(n(1),"WeakMap");t.exports=o},function(t,e,n){var o=n(69),i=n(4);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,o(s)]}return e}},function(t,e,n){var o=n(63),i=n(159),r=n(165),s=n(43),a=n(69),u=n(70),c=n(13);t.exports=function(t,e){return s(t)&&a(e)?u(c(t),e):function(n){var s=i(n,t);return void 0===s&&s===e?r(n,t):o(e,s,3)}}},function(t,e,n){var o=n(41);t.exports=function(t,e,n){var i=null==t?void 0:o(t,e);return void 0===i?n:i}},function(t,e,n){var o=n(161),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=o((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,o,i){e.push(o?i.replace(r,"$1"):n||t)})),e}));t.exports=s},function(t,e,n){var o=n(162);t.exports=function(t){var e=o(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var o=n(38);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(i.Cache||o),n}i.Cache=o,t.exports=i},function(t,e,n){var o=n(164);t.exports=function(t){return null==t?"":o(t)}},function(t,e,n){var o=n(9),i=n(26),r=n(0),s=n(11),a=o?o.prototype:void 0,u=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return i(e,t)+"";if(s(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var o=n(166),i=n(167);t.exports=function(t,e){return null!=t&&i(t,e,o)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var o=n(42),i=n(16),r=n(0),s=n(18),a=n(33),u=n(13);t.exports=function(t,e,n){for(var c=-1,h=(e=o(e,t)).length,d=!1;++c<h;){var l=u(e[c]);if(!(d=null!=t&&n(t,l)))break;t=t[l]}return d||++c!=h?d:!!(h=null==t?0:t.length)&&a(h)&&s(l,h)&&(r(t)||i(t))}},function(t,e,n){var o=n(169),i=n(170),r=n(43),s=n(13);t.exports=function(t){return r(t)?o(s(t)):i(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var o=n(41);t.exports=function(t){return function(e){return o(e,t)}}},function(t,e,n){var o=n(30);t.exports=function(t,e){var n;return o(t,(function(t,o,i){return!(n=e(t,o,i))})),!!n}},function(t,e,n){var o=n(39),i=n(173);t.exports=function t(e,n,r,s,a){var u=-1,c=e.length;for(r||(r=i),a||(a=[]);++u<c;){var h=e[u];n>0&&r(h)?n>1?t(h,n-1,r,s,a):o(a,h):s||(a[a.length]=h)}return a}},function(t,e,n){var o=n(9),i=n(16),r=n(0),s=o?o.isConcatSpreadable:void 0;t.exports=function(t){return r(t)||i(t)||!!(s&&t&&t[s])}},function(t,e,n){var o=n(26),i=n(10),r=n(71),s=n(175),a=n(19),u=n(176),c=n(6);t.exports=function(t,e,n){var h=-1;e=o(e.length?e:[c],a(i));var d=r(t,(function(t,n,i){return{criteria:o(e,(function(e){return e(t)})),index:++h,value:t}}));return s(d,(function(t,e){return u(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var o=n(177);t.exports=function(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,u=n.length;++i<a;){var c=o(r[i],s[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var o=n(11);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,s=o(t),a=void 0!==e,u=null===e,c=e==e,h=o(e);if(!u&&!h&&!s&&t>e||s&&a&&c&&!u&&!h||i&&a&&c||!n&&c||!r)return 1;if(!i&&!s&&!h&&t<e||h&&n&&r&&!i&&!s||u&&n&&r||!a&&r||!c)return-1}return 0}},function(t,e,n){var o=n(179),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,s=-1,a=i(r.length-e,0),u=Array(a);++s<a;)u[s]=r[e+s];s=-1;for(var c=Array(e+1);++s<e;)c[s]=r[s];return c[e]=n(u),o(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var o=n(181),i=n(182)(o);t.exports=i},function(t,e,n){var o=n(50),i=n(72),r=n(6),s=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;t.exports=s},function(t,e){var n=Date.now;t.exports=function(t){var e=0,o=0;return function(){var i=n(),r=16-(i-o);if(o=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e){t.exports=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)}},function(t,e,n){var o=n(185),i=n(18),r=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==u){var u=a;i(a)?r.call(t,a,1):o(t,a)}}return t}},function(t,e,n){var o=n(42),i=n(186),r=n(187),s=n(13);t.exports=function(t,e){return e=o(e,t),null==(t=r(t,e))||delete t[s(i(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var o=n(41),i=n(188);t.exports=function(t,e){return e.length<2?t:o(t,i(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r}},function(t,e,n){var o=n(76),i=n(77);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(26);t.exports=function(t,e){return o(e,(function(e){return t[e]}))}},function(t,e,n){var o=n(46),i=n(78);t.exports=function(t){return i(o(t))}},function(t,e,n){var o=n(78),i=n(77);t.exports=function(t){return o(i(t))}},function(t,e,n){var o=n(20),i=n(53),r=n(79),s=n(194),a=n(195),u=n(80),c=n(46),h=n(198),d=n(199),l=n(66),f=n(200),p=n(25),m=n(201),v=n(202),_=n(83),y=n(0),b=n(17),g=n(207),x=n(2),w=n(209),A=n(4),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,P,I,M,k){var S,j=1&n,B=2&n,C=4&n;if(P&&(S=M?P(e,I,M,k):P(e)),void 0!==S)return S;if(!x(e))return e;var O=y(e);if(O){if(S=m(e),!j)return c(e,S)}else{var F=p(e),E="[object Function]"==F||"[object GeneratorFunction]"==F;if(b(e))return u(e,j);if("[object Object]"==F||"[object Arguments]"==F||E&&!M){if(S=B||E?{}:_(e),!j)return B?d(e,a(S,e)):h(e,s(S,e))}else{if(!T[F])return M?e:{};S=v(e,F,j)}}k||(k=new o);var D=k.get(e);if(D)return D;k.set(e,S),w(e)?e.forEach((function(o){S.add(t(o,n,P,o,e,k))})):g(e)&&e.forEach((function(o,i){S.set(i,t(o,n,P,i,e,k))}));var R=C?B?f:l:B?keysIn:A,L=O?void 0:R(e);return i(L||e,(function(o,i){L&&(o=e[i=o]),r(S,i,t(o,n,P,i,e,k))})),S}},function(t,e,n){var o=n(14),i=n(4);t.exports=function(t,e){return t&&o(e,i(e),t)}},function(t,e,n){var o=n(14),i=n(28);t.exports=function(t,e){return t&&o(e,i(e),t)}},function(t,e,n){var o=n(2),i=n(35),r=n(197),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return r(t);var e=i(t),n=[];for(var a in t)("constructor"!=a||!e&&s.call(t,a))&&n.push(a);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var o=n(14),i=n(40);t.exports=function(t,e){return o(t,i(t),e)}},function(t,e,n){var o=n(14),i=n(81);t.exports=function(t,e){return o(t,i(t),e)}},function(t,e,n){var o=n(67),i=n(81),r=n(28);t.exports=function(t){return o(t,r,i)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(o.index=t.index,o.input=t.input),o}},function(t,e,n){var o=n(49),i=n(203),r=n(204),s=n(205),a=n(82);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return o(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return r(t);case"[object Set]":return new u;case"[object Symbol]":return s(t)}}},function(t,e,n){var o=n(49);t.exports=function(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var o=n(9),i=o?o.prototype:void 0,r=i?i.valueOf:void 0;t.exports=function(t){return r?Object(r.call(t)):{}}},function(t,e,n){var o=n(2),i=Object.create,r=function(){function t(){}return function(e){if(!o(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=r},function(t,e,n){var o=n(208),i=n(19),r=n(34),s=r&&r.isMap,a=s?i(s):o;t.exports=a},function(t,e,n){var o=n(25),i=n(3);t.exports=function(t){return i(t)&&"[object Map]"==o(t)}},function(t,e,n){var o=n(210),i=n(19),r=n(34),s=r&&r.isSet,a=s?i(s):o;t.exports=a},function(t,e,n){var o=n(25),i=n(3);t.exports=function(t){return i(t)&&"[object Set]"==o(t)}},function(t,e,n){var o=n(11);t.exports=function(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(void 0===u?a==a&&!o(a):n(a,u)))var u=a,c=s}return c}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var o=n(214);t.exports=function(t,e){var n=null==t?0:t.length;return n?o(t,e)/n:NaN}},function(t,e){t.exports=function(t,e){for(var n,o=-1,i=t.length;++o<i;){var r=e(t[o]);void 0!==r&&(n=void 0===n?r:n+r)}return n}},function(t,e,n){var o=n(20),i=n(84),r=n(54),s=n(216),a=n(2),u=n(28),c=n(85);t.exports=function t(e,n,h,d,l){e!==n&&r(n,(function(r,u){if(l||(l=new o),a(r))s(e,n,u,h,t,d,l);else{var f=d?d(c(e,u),r,u+"",e,n,l):void 0;void 0===f&&(f=r),i(e,u,f)}}),u)}},function(t,e,n){var o=n(84),i=n(80),r=n(82),s=n(46),a=n(83),u=n(16),c=n(0),h=n(217),d=n(17),l=n(36),f=n(2),p=n(218),m=n(32),v=n(85),_=n(219);t.exports=function(t,e,n,y,b,g,x){var w=v(t,n),A=v(e,n),T=x.get(A);if(T)o(t,n,T);else{var P=g?g(w,A,n+"",t,e,x):void 0,I=void 0===P;if(I){var M=c(A),k=!M&&d(A),S=!M&&!k&&m(A);P=A,M||k||S?c(w)?P=w:h(w)?P=s(w):k?(I=!1,P=i(A,!0)):S?(I=!1,P=r(A,!0)):P=[]:p(A)||u(A)?(P=w,u(w)?P=_(w):f(w)&&!l(w)||(P=a(A))):I=!1}I&&(x.set(A,P),b(P,A,y,g,x),x.delete(A)),o(t,n,P)}}},function(t,e,n){var o=n(5),i=n(3);t.exports=function(t){return i(t)&&o(t)}},function(t,e,n){var o=n(8),i=n(48),r=n(3),s=Function.prototype,a=Object.prototype,u=s.toString,c=a.hasOwnProperty,h=u.call(Object);t.exports=function(t){if(!r(t)||"[object Object]"!=o(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}},function(t,e,n){var o=n(14),i=n(28);t.exports=function(t){return o(t,i(t))}},function(t,e,n){var o=n(44),i=n(27);t.exports=function(t){return o((function(e,n){var o=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(r--,s):void 0,a&&i(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++o<r;){var u=n[o];u&&t(e,u,o,s)}return e}))}},function(t,e,n){var o=n(10),i=n(5),r=n(4);t.exports=function(t){return function(e,n,s){var a=Object(e);if(!i(e)){var u=o(n,3);e=r(e),n=function(t){return u(a[t],t,a)}}var c=t(e,n,s);return c>-1?a[u?e[c]:c]:void 0}}},function(t,e){t.exports=function(t,e,n,o){for(var i=t.length,r=n+(o?1:-1);o?r--:++r<i;)if(e(t[r],r,t))return r;return-1}},function(t,e,n){"use strict";var o=n(29),i=(n(88),n(225));function r(t){o.warn(!1,"Method "+t.name+" called on a detached node.",t.node,t.options)}t.exports=function(t,e){var n,s,a=this,u=e||{},c={live:u.live||!1,freezeInstances:u.freezeInstances||!1,singleParent:u.singleParent||!1},h=[],d=0,l=function(t){var e,n=t.__;if(n.listener){var o=n.listener.prevState||t;n.listener.prevState=0,i.emit(o,"update",t,!0)}for(e=0;e<n.parents.length;e++)n.store.notify("now",n.parents[e])};c.notify=function(t,e,n,a){if(a&&(s&&!s.onStore&&r(s),s={name:a,node:e,options:n,onStore:!1}),"now"===t){if(h.length)for(;h.length;)l(h.shift());else l(e);return e}var u=i[t](e,n);if("pivot"!==t){var c=o.findPivot(u);if(c)return function(t){h.push(t),d||(d=1,o.nextTick((function(){h=[],d=0})))}(u),c}return u},c.freezeFn=!0===u.mutable?function(){}:function(t){Object.freeze(t)},(n=i.freeze(t,c)).__.updateRoot=function(t,e){t===n?(n=e,s&&(s.onStore=!0)):s&&setTimeout((function(){s.onStore||r(s)}))};var f=n.getListener(),p={};o.each(["on","off","once","emit","trigger"],(function(t){var e={};e[t]=f[t].bind(f),o.addNE(a,e),o.addNE(p,e)})),o.addNE(this,{get:function(){return n},set:function(t){n.reset(t)},getEventHub:function(){return p}}),o.addNE(this,{getData:this.get,setData:this.set})}},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var u,c=[],h=!1,d=-1;function l(){h&&u&&(h=!1,u.length?c=u.concat(c):d=-1,c.length&&f())}function f(){if(!h){var t=a(l);h=!0;for(var e=c.length;e;){for(u=c,c=[];++d<e;)u&&u[d].run();d=-1,e=c.length}u=null,h=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||h||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var o=n(29),i=n(226),r=n(88),s={freeze:function(t,e){if(t&&t.__)return t;var n=this,r=i.clone(t);return o.addNE(r,{__:{listener:!1,parents:[],store:e}}),o.each(t,(function(t,i){o.isLeaf(t,e.freezeInstances)||(t=n.freeze(t,e)),t&&t.__&&n.addParent(t,r),r[i]=t})),e.freezeFn(r),r},merge:function(t,e){var n=t.__,i=n.trans;e=o.extend({},e);if(i){for(var r in e)i[r]=e[r];return t}var s,a,u,c=this,h=this.copyMeta(t),d=n.store;for(a in o.each(t,(function(n,i){if((u=n&&n.__)&&c.removeParent(n,t),!(s=e[i]))return u&&c.addParent(n,h),h[i]=n;o.isLeaf(s,d.freezeInstances)||(s=c.freeze(s,d)),s&&s.__&&c.addParent(s,h),delete e[i],h[i]=s})),e)s=e[a],o.isLeaf(s,d.freezeInstances)||(s=c.freeze(s,d)),s&&s.__&&c.addParent(s,h),h[a]=s;return n.store.freezeFn(h),this.refreshParents(t,h),h},replace:function(t,e){var n=t.__,i=e;return o.isLeaf(e,n.store.freezeInstances)||((i=this.freeze(e,n.store)).__.parents=n.parents,i.__.updateRoot=n.updateRoot,n.listener&&(i.__.listener=n.listener)),i&&this.fixChildren(i,t),this.refreshParents(t,i),i},remove:function(t,e){var n=t.__.trans;if(n){for(var i=e.length-1;i>=0;i--)delete n[e[i]];return t}var r,s=this,a=this.copyMeta(t);return o.each(t,(function(n,o){(r=n&&n.__)&&s.removeParent(n,t),-1===e.indexOf(o)&&(r&&s.addParent(n,a),a[o]=n)})),t.__.store.freezeFn(a),this.refreshParents(t,a),a},splice:function(t,e){var n=t.__,i=n.trans;if(i)return i.splice.apply(i,e),t;var r,s=this,a=this.copyMeta(t),u=e[0],c=u+e[1];if(o.each(t,(function(e,n){e&&e.__&&(s.removeParent(e,t),(n<u||n>=c)&&s.addParent(e,a)),a[n]=e})),e.length>1)for(var h=e.length-1;h>=2;h--)r=e[h],o.isLeaf(r,n.store.freezeInstances)||(r=this.freeze(r,n.store)),r&&r.__&&this.addParent(r,a),e[h]=r;return Array.prototype.splice.apply(a,e),n.store.freezeFn(a),this.refreshParents(t,a),a},transact:function(t){var e,n=this,i=t.__.trans;return i||(e=t.constructor===Array?[]:{},o.each(t,(function(t,n){e[n]=t})),t.__.trans=e,o.nextTick((function(){t.__.trans&&n.run(t)})),e)},run:function(t){var e=this,n=t.__.trans;return n?(o.each(n,(function(n,o){n&&n.__&&e.removeParent(n,t)})),delete t.__.trans,this.replace(t,n)):t},pivot:function(t){return t.__.pivot=1,this.unpivot(t),t},unpivot:function(t){o.nextTick((function(){t.__.pivot=0}))},refresh:function(t,e,n){var i=this,r=t.__.trans,s=0;if(r)return o.each(r,(function(o,a){s||o===e&&(r[a]=n,s=1,n&&n.__&&i.addParent(n,t))})),t;var a=this.copyMeta(t);o.each(t,(function(o,r){o===e&&(o=n),o&&o.__&&(i.removeParent(o,t),i.addParent(o,a)),a[r]=o})),t.__.store.freezeFn(a),this.refreshParents(t,a)},fixChildren:function(t,e){var n=this;o.each(t,(function(o){if(o&&o.__){if(n.fixChildren(o),1===o.__.parents.length)return o.__.parents=[t];e&&n.removeParent(o,e),n.addParent(o,t)}}))},copyMeta:function(t){var e=i.clone(t),n=t.__;return o.addNE(e,{__:{store:n.store,updateRoot:n.updateRoot,listener:n.listener,parents:n.parents.slice(0),trans:n.trans,pivot:n.pivot}}),n.pivot&&this.unpivot(e),e},refreshParents:function(t,e){var n,o=t.__,i=o.parents.length;if(t.__.updateRoot&&t.__.updateRoot(t,e),e&&this.emit(t,"update",e,o.store.live),i)for(n=i-1;n>=0;n--)this.refresh(o.parents[n],t,e)},removeParent:function(t,e){var n=t.__.parents,o=n.indexOf(e);-1!==o&&n.splice(o,1)},addParent:function(t,e){var n=t.__.parents;if(-1===n.indexOf(e)){if(t.__.store.singleParent&&n.length>=1)throw new Error("Freezer: Can't add node to the tree. It's already added and freezer is configured to `singleParent: true`.");n[n.length]=e}},emit:function(t,e,n,i){var r=t.__.listener;if(r){var s=r.ticking;i?(s||n)&&(r.ticking=0,r.emit(e,s||n,t)):(r.ticking=n,r.prevState||(r.prevState=t),s||o.nextTick((function(){if(r.ticking){var n=r.ticking;r.prevState;r.ticking=0,r.prevState=0,r.emit(e,n,t)}})))}},createListener:function(t){var e=t.__.listener;return e||(e=Object.create(r,{_events:{value:{},writable:!0}}),t.__.listener=e),e}};i.init(s),t.exports=s},function(t,e,n){"use strict";var o=n(29),i={init:function(t){var e={set:function(t,e){var n=t,i=this.__.trans,r=this.constructor===Array,s="Freezer arrays only accept numeric attributes, given: ";if("object"!=typeof t){if(r&&parseInt(t)!=t)return o.warn(0,s+t),o.findPivot(this)||this;(n={})[t]=e}if(!i){for(var a in n){if(r&&parseInt(a)!=a)return o.warn(0,s+a),o.findPivot(this)||this;i=i||this[a]!==n[a]}if(!i)return o.findPivot(this)||this}var u=r?"array.set":"object.set";return this.__.store.notify("merge",this,n,u)},reset:function(t){return this.__.store.notify("replace",this,t,"object.replace")},getListener:function(){return t.createListener(this)},toJS:function(){var t;return t=this.constructor===Array?new Array(this.length):{},o.each(this,(function(e,n){e&&e.__?t[n]=e.toJS():t[n]=e})),t},transact:function(){return this.__.store.notify("transact",this)},run:function(){return this.__.store.notify("run",this)},now:function(){return this.__.store.notify("now",this)},pivot:function(){return this.__.store.notify("pivot",this)}},n=o.extend({push:function(t){return this.append([t],"array.push")},append:function(t,e){return t&&t.length?this.__.store.notify("splice",this,[this.length,0].concat(t),e||"array.append"):this},pop:function(){return this.length?this.__.store.notify("splice",this,[this.length-1,1],"array.pop"):this},unshift:function(t){return this.prepend([t],"array.unshift")},prepend:function(t){return t&&t.length?this.__.store.notify("splice",this,[0,0].concat(t),"array.prepend"):this},shift:function(){return this.length?this.__.store.notify("splice",this,[0,1],"array.shift"):this},splice:function(t,e,n){return this.__.store.notify("splice",this,arguments,"array.splice")},sort:function(){var t=this.slice();return t.sort.apply(t,arguments),this.__.store.notify("replace",this,t,"array.sort")}},e),i=Object.create(Array.prototype,o.createNE(n)),r=o.createNE(o.extend({remove:function(t){var e=[],n=t;t.constructor!==Array&&(n=[t]);for(var o=0,i=n.length;o<i;o++)this.hasOwnProperty(n[o])&&e.push(n[o]);return e.length?this.__.store.notify("remove",this,e,"object.remove"):this}},e)),s=Object.create(Object.prototype,r),a=[].__proto__?function(t){var e=new Array(t);return e.__proto__=i,e}:function(t){var e=new Array(t);for(var o in n)e[o]=n[o];return e};this.clone=function(t){var e=t.constructor;return e===Array?a(t.length):e===Object?Object.create(s):Object.create(e.prototype,r)}}};t.exports=i},function(t,e,n){t.exports=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){var n=e[s][1][t];return i(n||t)}),c,c.exports,t,e,n,o)}return n[s].exports}for(var r=!1,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){var o;!function(){var t,e,n,i,r,s,a,u,c,h,d,l,f,p,m,v,_,y,b="gamepadconnected",g="gamepaddisconnected",x="standard",w="GamepageMicro: ",A=navigator,T=window,P=!1,I=!0,M=console.warn;o=function(){(y=this).buttonKeys=["actionSouth","actionEast","actionWest","actionNorth","leftBumper","rightBumper","leftTrigger","rightTrigger","select","start","leftStick","rightStick","dPadUp","dPadDown","dPadLeft","dPadRight","extra"],y._ticking=P,y._prevTimestamps=[],y._listening=P,y._updateCallback=function(){},y._prevRawGPTypes=[],y.gamepadConnected=t.length>0,y.gamepadSupported=!!n(),y.gamepads=[],y._heldButtonDelay=200,y._heldTimeByGP={},y._prevPressedByGP={}},n=function(){return A.getGamepads||!!A.webkitGetGamepads||!!A.webkitGamepads},t=function(){var t=A.getGamepads&&A.getGamepads()||A.webkitGetGamepads&&A.webkitGetGamepads(),e=[];if(t)for(var n=0,o=t.length;n<o;n++){var i=t[n];i&&i.mapping===x&&e.push(i)}return e},e=function(t,e){if(!t||!t.buttons||e>=t.buttons.length)return P;var n,o=t.buttons[e];return o?(n=o,"object"==typeof o&&(n=o.value),1===n):P},i=T.requestAnimationFrame||T.webkitRequestAnimationFrame||T.mozRequestAnimationFrame||T.oRequestAnimationFrame||T.msRequestAnimationFrame,r=function(){this._updateCallback(this.gamepads)},s=function(){this._listening||(T.addEventListener(b,u,P),T.addEventListener(g,c,P),this._listening=I)},a=function(){this._listening&&(T.removeEventListener(b,u),T.removeEventListener(g,c),this._listening=P)},u=function(t){var e=t.gamepad;e.mapping===x&&(this.gamepads[e.index]={leftStick:{x:0,y:0},rightStick:{x:0,y:0},dPad:{x:0,y:0},buttons:{},_pressed:{},timestamp:0},this.gamepadConnected=I,this._update())},c=function(t){var e=t.gamepad,n=this.gamepads;n.forEach((function(t,o){o===e.index&&n.splice(o,1)})),n.length||(this.gamepadConnected=P),this._update()},h=function(){for(var e=t(),n=P,o={},i=0,r=0;r<e.length;r++){var s,a,u=e[r];u.timestamp&&(i=u.index,s=this._heldTimeByGP[i]||{},a=0===Object.keys(s).length,u.timestamp===this._prevTimestamps[i]&&a||(this._prevTimestamps[i]=u.timestamp,o[i]=u,n=I))}return n?o:P},d=function(){var t=(y=this)._checkForGamepadChange();if(t){y.gamepadConnected=I,y.gamepadSupported=I;var n=y.gamepads,o=y.buttonKeys;Object.keys(t).map((function(i){var r=t[i];if(r){typeof r!=y._prevRawGPTypes[i]&&(y._prevRawGPTypes[i]=typeof u);for(var s,a={},u=n[i]||{leftStick:{x:0,y:0},rightStick:{x:0,y:0},dPad:{x:0,y:0},buttons:{},_pressed:{},timestamp:0},c=y._heldTimeByGP[i]||{},h=y._prevPressedByGP[i]||[],d=[],l=function(){c[m]={gamepadTimestamp:"number"==typeof x&&isFinite(x)?x:P,browserTimestamp:g},a[m]={pressed:I},d.push(m)},f=0,p=o.length;f<p;f++){var m=o[f],v=c[m],_=h.indexOf(m)>-1,b=e(r,f),g=Date.now(),x=r.timestamp,w=v&&v.gamepadTimestamp;_?b?v&&(w&&w===r.timestamp&&g>v.browserTimestamp+y._heldButtonDelay||w&&r.timestamp>w+y._heldButtonDelay)?(a[m]={held:I,pressed:P},d.push(m)):l():(a[m]={released:I,held:P,pressed:P},c&&delete c[m]):b&&l()}u.timestamp=r.timestamp,u.buttons=a,s=r.axes,u.leftStick.x=s[0],u.leftStick.y=s[1],u.rightStick.x=s[2],u.rightStick.y=s[3],u.dPad.x=(a.dPadLeft?-1:0)+(a.dPadRight?1:0),u.dPad.y=(a.dPadUp?-1:0)+(a.dPadDown?1:0),y.gamepads[i]=u,y._heldTimeByGP[i]=c,y._prevPressedByGP[i]=d}})),y._update()}},l=function(){this._ticking||(this._ticking=I,this._tick())},f=function(){this._ticking=P},p=function(){this._poll(),this._ticking&&(i?i(this._tick.bind(this)):M(w+"This browser doesn't support requestAnimationFrame. Probably means that Gamepad API isn't supported either."))},m=function(t){return n?(this._updateCallback=t,this._addEvents(),void this._setupPoll()):void M(w+"This browser doesn't support Gamepad API, so onUpdate shouldn't be called.")},v=function(){return n?(this._updateCallback=P,this._removeEvents(),void this._removePoll()):void M(w+"This browser doesn't support Gamepad API, so offUpdate shouldn't be called.")},(_=o.prototype)._update=r,_._addEvents=s,_._removeEvents=a,_._onGamepadConnected=u,_._onGamepadDisconnected=c,_._checkForGamepadChange=h,_._poll=d,_._setupPoll=l,_._removePoll=f,_._tick=p,_.onUpdate=m,_.offUpdate=v}(),e.exports=o},{}]},{},[1])(1)},function(t,e,n){"use strict";n.r(e);var o={};function i(t){throw void 0===t&&(t="unknown reason"),new Error(t)}function r(t,e){t&&i(e)}function s(t,e){null==t&&i(e)}n.r(o),n.d(o,"load",(function(){return xt})),n.d(o,"playMusic1",(function(){return wt})),n.d(o,"playMusicMenu",(function(){return At})),n.d(o,"playMusicDie",(function(){return Tt})),n.d(o,"playMusicDungeon",(function(){return Pt})),n.d(o,"playMusicBoss",(function(){return It})),n.d(o,"playMusicWin",(function(){return Mt})),n.d(o,"playLoaded",(function(){return kt})),n.d(o,"playJump",(function(){return St})),n.d(o,"playMetal",(function(){return jt})),n.d(o,"playPickup",(function(){return Bt})),n.d(o,"playExplode",(function(){return Ct})),n.d(o,"playSmash",(function(){return Ot})),n.d(o,"playThrowHat",(function(){return Ft}));var a,u=n(89),c=n.n(u),h=n(90),d=n.n(h),l=n(91),f=n.n(l),p=n(92),m=n.n(p),v=n(93),_=n.n(v),y=n(94),b=n.n(y),g=n(50),x=n.n(g),w=n(95),A=n.n(w),T=n(96),P=n.n(T),I=n(97),M=n.n(I),k=n(98),S=n.n(k),j=n(99),B=n.n(j),C=n(100),O=n.n(C),F=n(101),E=n.n(F),D=n(102),R=n.n(D),L=n(103),X=n.n(L),H=n(51),G=n.n(H),N={forEach:c.a,some:d.a,map:f.a,sortBy:m.a,delay:_.a,times:b.a,constant:x.a,random:A.a,remove:P.a,sample:M.a,shuffle:S.a,clone:B.a,max:O.a,mean:E.a,merge:R.a,find:X.a,findIndex:G.a},Y=n(86),z=n(87),U=n(15);!function(t){t[t.escape=27]="escape",t[t.w=87]="w",t[t.a=65]="a",t[t.s=83]="s",t[t.d=68]="d",t[t.space=32]="space",t[t.enter=13]="enter",t[t.arrowUp=38]="arrowUp",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.r=82]="r",t[t.h=72]="h"}(a||(a={}));var W=function(){function t(){this.keys={}}return t.prototype.init=function(){window.addEventListener("keydown",this.onKeyDown.bind(this),!0),window.addEventListener("keyup",this.onKeyUp.bind(this),!0)},t.prototype.onKeyDown=function(t){var e=this.keys[t.keyCode];e&&(console.log("key down",t.keyCode),e._delay_justPressed=!0,e._delay_isPressed=!0,event.preventDefault())},t.prototype.onKeyUp=function(t){var e=this.keys[t.keyCode];e&&(console.log("key up",t.keyCode),e._delay_justReleased=!0,e._delay_isPressed=!1,event.preventDefault())},t.prototype.onUpdate=function(){N.forEach(this.keys,(function(t){t.isPressed=t._delay_isPressed,t.justPressed=t._delay_justPressed,t.justReleased=t._delay_justReleased,t._delay_justPressed=!1,t._delay_justReleased=!1}))},t.prototype.getKey=function(t){var e=this.keys[t];return e||(e=this.listenFor(t)),e},t.prototype.isPressed=function(t){return this.getKey(t).isPressed},t.prototype.isUp=function(t){return!this.getKey(t).isPressed},t.prototype.justPressed=function(t){return this.getKey(t).justPressed},t.prototype.justReleased=function(t){return this.getKey(t).justReleased},t.prototype.listenFor=function(t){var e=this.keys[t];return e?(console.warn("already listening to key "+t),e):(console.log("listening to key "+t),e={keyCode:t,isPressed:!1,_delay_isPressed:!1,justPressed:!1,justReleased:!1,_delay_justPressed:!1,_delay_justReleased:!1},this.keys[t]=e,e)},t}(),V=function(){function t(){this.pixiMode="unknown",this.renderer=null,this.stage=null,this.loader=null,this.keyboard=new W,this._preloadBitmapFonts=[],this._preloadSprites=[],this._preloadSpritesheets=[],this._preloadTiledMaps=[],this._preloadAudioSprites=[],this._preloadPackedSprites=[],this.frameNum=0,this.frameNumThisInterval=0,this.framesPerSecond=null,this.lastPerfStart=0,this.lastPerfMid=0,this.lastPerfEnd=0,this.perfStart=0,this.perfMid=0,this.perfEnd=0,this.frameLoads=[],this.frameMaxLoad=0,this.frameAverageLoad=0,this.onUpdateCallback=null}return t.prototype.init=function(){console.log("starting SGE");var t="WebGL";PIXI.utils.isWebGLSupported()||(t="canvas"),PIXI.utils.sayHello(t),this.keyboard.init(),console.log("started SGE")},t.prototype.resize=function(){if(this.renderer){var t=window,e=document,n=e.documentElement,o=e.getElementsByTagName("body")[0],i=t.innerWidth||n.clientWidth||o.clientWidth,r=t.innerHeight||n.clientHeight||o.clientHeight;this.renderer.resize(i,r)}},t.prototype.createRenderer=function(){var t=this.renderer=PIXI.autoDetectRenderer(256,256,{antialias:!1,transparent:!1,resolution:1});this.renderer instanceof PIXI.CanvasRenderer?this.pixiMode="canvas":this.pixiMode="openGl",t.view.style.position="absolute",t.view.style.display="block",t.autoResize=!0,t.resize(window.innerWidth,window.innerHeight);var e=document.getElementById("game-root");e?e.appendChild(t.view):document.body.appendChild(t.view);var n=this.stage=new PIXI.Container;return t.render(n),t},t.prototype.getViewSize=function(){var t=this.renderer;return{width:t.width,height:t.height}},t.prototype.addGroup=function(t){this.stage.addChild(t)},t.prototype.preloadBitmapFonts=function(t){var e=this;N.forEach(t,(function(t){e._preloadBitmapFonts.push(t)}))},t.prototype.preloadSprites=function(t){var e=this;N.forEach(t,(function(t){e._preloadSprites.push(t)}))},t.prototype.preloadSpriteSheets=function(t){var e=this;N.forEach(t,(function(t){e._preloadSpritesheets.push(t)}))},t.prototype.preloadTiledMaps=function(t){var e=this;N.forEach(t,(function(t){e._preloadTiledMaps.push(t)}))},t.prototype.preloadAudioSprites=function(t){var e=this;N.forEach(t,(function(t){e._preloadAudioSprites.push(t)}))},t.prototype.preloadPackedSprites=function(t){var e=this;N.forEach(t,(function(t){e._preloadPackedSprites.push(t)}))},t.prototype.preload=function(t,e){var n=this,o=(this.loadingMessage=new PIXI.Text("Loading...",{fontFamily:"Arial",fontSize:64,fill:"white"}),this.loader=new PIXI.loaders.Loader);o.on("progress",(function(t,e){n.onloaderProgress(t,e)})),N.forEach(this._preloadAudioSprites,(function(e){o.add(e,t+"/sounds/"+e+".json")})),N.forEach(this._preloadBitmapFonts,(function(e){o.add(e,t+"/fonts/"+e+".fnt.xml")})),N.forEach(this._preloadSprites,(function(e){o.add(e,t+"/images/"+e+".png")})),N.forEach(this._preloadSpritesheets,(function(e){o.add(e,t+"/images/"+e+".png")})),N.forEach(this._preloadTiledMaps,(function(e){o.add(e,t+"/maps/"+e+".json")})),N.forEach(this._preloadPackedSprites,(function(e){o.add(e+"-json",t+"/images-packed/"+e+".json"),o.add(e,t+"/images-packed/"+e+".png")})),o.load((function(){N.forEach(n._preloadSpritesheets,(function(t){n.loader.resources[t].texture.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST})),n.loadingMessage.visible=!1;var t=n.frameRateText=new PIXI.extras.BitmapText("",{font:"16px defaultfont"});t.position.set(0,2),n.stage.addChild(t),e()}))},t.prototype.onloaderProgress=function(t,e){var n=Math.floor(t.progress)+"% - "+e.url;console.log("loading",n),this.loadingMessage.text=n,this.renderer.render(this.stage)},t.prototype.getJson=function(t){console.log("get json",t);var e=this.loader.resources[t];return s(e,"json not loaded "+t),s(e.data,"is not json "+t),e.data},t.prototype.getTexture=function(t){var e=this.loader.resources[t];return s(e,"tex not loaded "+t),s(e.texture,"is not tex "+t),e.texture},t.prototype.startGameLoop=function(){var t=this;this.frameRateStart=(new Date).getTime(),requestAnimationFrame((function(){t.gameLoop()}))},t.prototype.gameLoop=function(){var t=this;this.lastPerfStart=this.perfStart,this.lastPerfMid=this.perfMid,this.lastPerfEnd=this.perfEnd;this.lastPerfMid,this.lastPerfStart;var e=this.lastPerfEnd-this.lastPerfStart;this.frameLoads.push(e),requestAnimationFrame((function(){t.gameLoop()})),this.perfStart=performance.now(),this.keyboard.onUpdate(),this.frameNum++,this.frameNumThisInterval++;this.frameRateText.text=(this.framesPerSecond||"--")+" | "+Y(this.frameAverageLoad/16.6).format("0%")+" | "+Y(this.frameMaxLoad/16.6).format("0%")+" | "+Y(this.frameMaxLoad).format("0")+"ms | "+this.frameNum%60+" "+(this.frameMaxLoad/16.6>.5?"WARNING":"")+" ",this.onUpdate();var n=(new Date).getTime();n-this.frameRateStart>=2e3&&(this.framesPerSecond=Math.floor(this.frameNumThisInterval*(n-this.frameRateStart)/1e3/2/2),this.frameNumThisInterval=0,this.frameRateStart=n,this.frameMaxLoad=N.max(this.frameLoads),this.frameAverageLoad=N.mean(this.frameLoads),this.frameLoads=[]),this.perfMid=performance.now(),this.renderer.render(this.stage),this.perfEnd=performance.now()},t.prototype.onUpdate=function(){this.onUpdateCallback&&this.onUpdateCallback()},t}(),$=(PIXI.Rectangle,PIXI.Sprite,PIXI.Container,PIXI.utils.TextureCache),J=function(){function t(t,e,n,o,i){var r=this;this.blockWidth=0,this.blockHeight=0,this.blockSize=0,this.numLayers=0,this.containers=[],this.data=[],this.tileData=[],this.blockSize=e,this.numLayers=o,this.tileData=n,this.gridSpotCreator=i,N.forEach(n,(function(t){r.tileData[t.name]=t})),this.defaultTile=this.tileData.default||this.tileData[0];this.data;N.forEach(N.times(o),(function(t){r.containers.push(new PIXI.Container)}))}return t.prototype.resize=function(t,e){this.blockWidth=t,this.blockHeight=e,N.forEach(this.data,(function(t){N.forEach(t.sprites,(function(t){t&&t.destroy()}))})),null===this.gridSpotCreator&&(this.gridSpotCreator=function(t,e,n){return{sprites:t,bx:e,by:n,canMove:!0}}),this.data=[];for(var n=0;n<e;n++)for(var o=0;o<t;o++){var i=N.times(this.numLayers,N.constant(null)),r=this.gridSpotCreator(i,o,n);this.data.push(r)}},t.prototype.update=function(){},t.prototype.setPosition=function(t,e){N.forEach(this.containers,(function(n){n.position.set(t,e)}))},t.prototype.setScale=function(t){N.forEach(this.containers,(function(e){e.scale.set(t,t)}))},t.prototype.inRange=function(t,e){return!(t<0||t>=this.blockWidth)&&!(e<0||e>=this.blockHeight)},t.prototype.wrapX=function(t){return t<0&&(t=this.blockWidth-1),t>this.blockWidth-1&&(t=0),t},t.prototype.wrapY=function(t){return t<0&&(t=this.blockHeight-1),t>this.blockHeight-1&&(t=0),t},t.prototype.clampBoundsX=function(t){return t<0&&(t=0),t>this.blockWidth-1&&(t=this.blockWidth-1),t},t.prototype.clampBoundsY=function(t){return t<0&&(t=0),t>this.blockHeight-1&&(t=this.blockHeight-1),t},t.prototype.addTile=function(t){this.tileData[t.name]=t},t.prototype.hasTile=function(t){return null!=this.tileData[t]},t.prototype.checkInRange=function(t,e){return!(t<0||t>=this.blockWidth)&&!(e<0||e>=this.blockHeight)},t.prototype.safeGetTileAt=function(t,e){return t<0||t>=this.blockWidth||e<0||e>=this.blockHeight?null:this.data[e*this.blockWidth+t]},t.prototype.safeGetTileAtWorld=function(t,e){var n=Math.floor(t/this.blockSize),o=Math.floor(e/this.blockSize);return n<0||n>=this.blockWidth||o<0||o>=this.blockHeight?null:this.data[o*this.blockWidth+n]},t.prototype.canMoveOn=function(t,e){return!1!==this.checkInRange(t,e)&&this.getTileAt(t,e).canMove},t.prototype.getTileAt=function(t,e){return r(t<0||t>=this.blockWidth,"bx out of range: "+t),r(e<0||e>=this.blockHeight,"by out of range: "+e),this.data[e*this.blockWidth+t]},t.prototype.setTileAt=function(t,e,n,o){return this.setTileAtEx(t,e,n,o,!1,!1,0)},t.prototype.setTileAtEx=function(t,e,n,o,i,a,u){r(e<0||e>=this.blockWidth,"bx out of range: "+e),r(n<0||n>=this.blockHeight,"by out of range: "+n);var c=this.data[n*this.blockWidth+e];s(c,"gs does not exist "+e+":"+n);var h=this.tileData[o];s(h,"tile does not exist "+e+":"+n+":"+o);var d=this.blockSize,l=c.sprites[t];if(null==l){var f=$[this.defaultTile.textureName];(l=new PIXI.Sprite(new PIXI.Texture(f.baseTexture))).anchor.set(.5);l.position.set(e*d+d/2+.01,n*d+d/2+.01),this.containers[t].addChild(l),c.sprites[t]=l}var p=new PIXI.Rectangle(d*h.tx,d*h.ty,d,d);return l.texture.frame=p,l.visible=!0,l.rotation=u,l.scale.set(i?-1:1,a?-1:1),c},t.prototype.clearTileAt=function(t,e,n){r(e<0||e>=this.blockWidth,"bx out of range: "+e),r(n<0||n>=this.blockHeight,"by out of range: "+n);var o=this.data[n*this.blockWidth+e];s(o,"gs does not exist "+e+":"+n);var i=o.sprites[t];return i&&(i.visible=!1),o},t}();var K=new z({}).getEventHub();function q(t,e){K.emit(t,e)}function Z(t,e){K.on(t,e)}var Q=new(n(227)),tt=null;Q.onUpdate((function(t){tt=Q.gamepadConnected?t:null}));var et=function(){this.isPressed=!1,this.justPressed=!1,this.justReleased=!1},nt=function(){this.n=new et,this.e=new et,this.s=new et,this.w=new et};function ot(t,e,n){if(t.justReleased=!1,t.justPressed=!1,e){var o=e.buttons[n];o&&(o.released?t.isPressed&&(t.isPressed=!1,t.justReleased=!1):o.pressed||o.held?(t.isPressed||(t.justPressed=!0),t.isPressed=!0,t.justReleased=!1):t.isPressed=!1)}}function it(t,e,n){e.justReleased=!1,e.justPressed=!1,e.isPressed=!1,N.forEach(n,(function(n){var o=t.keyboard.getKey(n);o.isPressed&&(e.isPressed=!0),o.justPressed&&(e.justPressed=!0),o.justReleased&&(e.justReleased=!0)}))}function rt(t,e,n){var o=-1;if(t){var i=t[e];i&&(i.x>n?o=1:i.x<-n&&(o=3),i.y>n?o=2:i.y<-n&&(o=0))}return o}var st=function(){this.dir=-1,this.lastDir=-1,this.dpad=new nt,this.buttonOk=new et,this.keyUp=new et,this.keyDown=new et,this.keyOk=new et,this.combinedOk=new et};function at(t,e){!function(t,e){ot(t.n,e,"dPadUp"),ot(t.e,e,"dPadRight"),ot(t.s,e,"dPadDown"),ot(t.w,e,"dPadLeft")}(t.dpad,e),ot(t.buttonOk,e,"actionSouth"),t.lastDir=t.dir,t.dir=function(t,e,n){var o=-1;if(t){var i=rt(t,"leftStick",n);-1!==i&&(o=i);var r=rt(t,"rightStick",n);-1!==r&&(o=r);var s=function(t){var e=-1;return t.n.isPressed&&(e=0),t.e.isPressed&&(e=1),t.s.isPressed&&(e=2),t.w.isPressed&&(e=3),e}(e);-1!==s&&(o=s)}return o}(e,t.dpad,.67)}var ut=function(){function t(){this.input=new st}return t.prototype.init=function(t){this.sge=t},t.prototype.update=function(){var t,e,n,o,i=tt;Q&&i&&i.length>0&&at(this.input,i[0]),t=this.sge,e=this.input,it(t,e.keyUp,[a.w,a.arrowUp]),it(t,e.keyDown,[a.s,a.arrowDown]),it(t,e.keyOk,[a.space,a.enter]),n=this.input.combinedOk,o=[this.input.keyOk,this.input.buttonOk],n.justReleased=!1,n.justPressed=!1,n.isPressed=!1,N.forEach(o,(function(t){t.isPressed&&(n.isPressed=!0),t.justPressed&&(n.justPressed=!0),t.justReleased&&(n.justReleased=!0)}))},t}(),ct={menuMode:"title",muteMusic:!1,muteSound:!1,stevie:"Stevie B.",casey:"Casey B.",brenden:"Brenden B."},ht=null;function dt(){return ct}function lt(t){N.merge(ct,t),console.log("saving settings",ht,ct),U.set(ht,JSON.stringify(ct))}var ft=new ut,pt=function(){function t(){this.currentMenu=null,this.menus=[],this.currentItemX=0,this.currentItemY=0}return t.prototype.init=function(t,e){this.sge=t,this.container=new PIXI.Container,ft.init(t)},t.prototype.addMenu=function(t){this.menus.push(t)},t.prototype.loadSettings=function(){var t=this;this.changeMode(dt().menuMode),this.update(),Z("menu:change-mode",(function(e){t.changeMode(e.menuMode)}))},t.prototype.getMode=function(){return dt().menuMode},t.prototype.changeMode=function(t){console.log("new menu mode",t),this.container.removeChildren(),lt({menuMode:t}),this.currentMenu=N.find(this.menus,(function(e){return e.modeName===t}))||this.menus[0],console.log("mode found",this.currentMenu.modeName,this.menus),this.container.addChild(this.currentMenu.container)},t.prototype.update=function(){ft.update(),this.currentMenu.update(ft),this.currentMenu.menu&&(this.currentItemX=(this.currentMenu.menu.currentItemX||1)-20,this.currentItemY=(this.currentMenu.menu.currentItemY||1)+25)},t}(),mt=n(52),vt=null,_t=null;function yt(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=null),_t&&(_t.stop(),_t=null),_t=new mt.Howl({src:[t+".ogg",t+"mp3"],autoplay:!0,loop:e,volume:.75}),dt().muteMusic&&_t.mute(!0),_t.on("loaderror",(function(t,e){console.log("howl","loaderror",t,e)})),n&&_t.on("end",(function(){n()}))}function bt(t){dt().muteSound||vt.play(t)}var gt="/public/ludumDare40/music/";function xt(t){var e,n;e=t.getJson("audioSprite"),n=function(){kt()},(vt=new mt.Howl({src:e.urls,sprite:e.sprite})).once("load",(function(){n()})),vt.on("loaderror",(function(t,e){console.log("howl","loaderror",t,e)})),vt.mute(dt().muteSound),wt()}function wt(){yt(gt+"theme1")}function At(){yt(gt+"menu1")}function Tt(){yt(gt+"dead1",!1,(function(){yt(gt+"theme1")}))}function Pt(){yt(gt+"dungeon1")}function It(){yt(gt+"boss1")}function Mt(){yt(gt+"winner1",!1,(function(){yt(gt+"theme1")}))}function kt(){bt("smash001")}function St(){bt("jump001")}function jt(){bt("invinc001")}function Bt(){bt(N.sample(["pickup002","pickup003"]))}function Ct(){bt("hurt001")}function Ot(){bt("smash001")}function Ft(){bt("hatthrow001")}Z("gui:click-button",(function(){Ct()})),Z("gui:toggle-music",(function(){wt()}));var Et=function(){function t(){this.isActive=!1,this.state=0}return t.prototype.doClick=function(){this.onClick&&this.onClick(),q("gui:click-button")},t.prototype.init=function(t,e){var n=this;this.sge=t,this.container=new PIXI.Container,this.text=new PIXI.extras.BitmapText(""+e,{font:"24px defaultfont",align:"left"}),this.text.anchor=new PIXI.Point(0,0),this.container.addChild(this.text),this.container.buttonMode=!0,this.container.interactive=!0,this.container.on("mouseover",(function(){n.state=1,n.onOver&&n.onOver(n)})),this.container.on("mousemove",(function(){n.state>0&&n.onOver&&n.onOver(n)})),this.container.on("mouseout",(function(){n.state=0})),this.container.on("mousedown",(function(){n.state=2})),this.container.on("mouseup",(function(){n.state=1,n.doClick()})),this.container.hitArea=new PIXI.Rectangle(0,0,400,50)},t.prototype.setActive=function(t){this.isActive=t},t.prototype.update=function(t,e){this.container.x=t,this.isActive,this.container.y=e,this.text.x=100,this.text.y=14},t}(),Dt=function(){function t(){this.isActive=!1}return t.prototype.init=function(t,e,n,o){var i=this;this.sge=t,this.container=new PIXI.Container,this.options=o,this.settingKey=n,this.button=new Et,this.button.init(t,e),this.intiialText=e,this.container.addChild(this.button.container),this.container.buttonMode=!0,this.container.interactive=!0,this.container.on("mouseover",(function(){i.onOver&&i.onOver(i)})),this.button.onClick=function(){var t;console.log("change option",n);var e=dt()[i.settingKey],o=N.findIndex(i.options,(function(t,n){return t.value===e}))+1;o>=i.options.length&&(o=0),console.log("change option to",i.options[o].value),lt(((t={})[i.settingKey]=i.options[o].value,t)),i.onClick&&i.onClick()}},t.prototype.findOption=function(t,e){return N.find(t,(function(t){return t===e||t.value===e}))},t.prototype.doClick=function(){this.button.doClick()},t.prototype.setActive=function(t){this.isActive=t},t.prototype.update=function(t,e){var n=this.getOptionsText();this.button.text.text=this.intiialText+":   "+n,this.button.setActive(this.isActive),this.button.update(t,e)},t.prototype.getOptionsText=function(){var t=dt()[this.settingKey],e="";return N.forEach(this.options,(function(n){n.value===t?e+="["+n.label+"]  ":e+=" "+n.label+"   "})),e},t}();var Rt=function(){function t(){this.menuButtons=[],this.activeButtonIndex=0,this.currentItemX=0,this.currentItemY=0}return t.prototype.init=function(t,e,n){this.sge=t,this.container=e,this.textTitle=new PIXI.extras.BitmapText(""+n,{font:"48px defaultfont",align:"left"}),this.textTitle.anchor=new PIXI.Point(0,0),this.container.addChild(this.textTitle)},t.prototype.changeModeTo=function(t){this.activeButtonIndex=0,q("menu:change-mode",{menuMode:t})},t.prototype.addButtonSimple=function(t){var e=this,n=new Et;return n.init(this.sge,t),n.onOver=function(t){e.activeButtonIndex=N.findIndex(e.menuButtons,(function(e){return e===t}))},this.menuButtons.push(n),this.container.addChild(n.container),n},t.prototype.addOptionSimple=function(t,e,n){var o=this,i=new Dt;return i.init(this.sge,t,e,n),i.onOver=function(t){o.activeButtonIndex=N.findIndex(o.menuButtons,(function(e){return e===t}))},this.menuButtons.push(i),this.container.addChild(i.container),i},t.prototype.update=function(t){var e=this,n=0;N.forEach(this.menuButtons,(function(t,e){t.container.visible&&n++})),this.activeButtonIndex=function(t,e,n){var o=n-e;if(o<=0)throw new Error("invalid range");for(;t<e;)t+=o;for(;t>=n;)t-=o;return t}(this.activeButtonIndex,0,n),this.textTitle.x=50,this.textTitle.y=50;var o=120;if(t){var i=t.input;if(i.combinedOk.justPressed);else{var r=i.dir;r!==i.lastDir&&(2!==r&&1!==r||this.activeButtonIndex++,3!==r&&0!==r||this.activeButtonIndex--),i.keyUp.justPressed&&this.activeButtonIndex--,i.keyDown.justPressed&&this.activeButtonIndex++}var s=-1;N.forEach(this.menuButtons,(function(t,n){if(t.container.visible){var r=++s===e.activeButtonIndex;t.setActive(r),s===e.activeButtonIndex&&i.combinedOk.justPressed&&t.doClick(),t.update(0,o),r&&(e.currentItemX=100,e.currentItemY=o),o+=70}else t.setActive(!1)}))}},t}();function Lt(t,e,n,o){var i=t.getTexture(e),r=new PIXI.Sprite(new PIXI.Texture(i.baseTexture)),s=new PIXI.Rectangle(16*o,16*n,16,16);return r.texture.frame=s,r}function Xt(t,e,n){for(var o=[],i=0;i<n;i++)o.push(new PIXI.Rectangle(16*(e+i),16*t,16,16));return o}function Ht(t,e){return new PIXI.Rectangle(16*e,16*t,16,16)}var Gt=function(){function t(){this.menu=new Rt,this.modeName="title"}return t.prototype.init=function(t){var e=this;this.sge=t,this.container=new PIXI.Container,this.menu.init(t,this.container,"Hatformer! (ludum dare 40)"),At(),this.menu.addButtonSimple("Start Game").onClick=function(){e.menu.changeModeTo("game"),wt()},this.menu.addButtonSimple("Sound Options").onClick=function(){e.menu.changeModeTo("sound-options")},this.menu.addButtonSimple("About").onClick=function(){e.menu.changeModeTo("about")},this.sprite=Lt(this.sge,"ase-512-16",2,1),this.sprite.scale.set(8),this.sprite.anchor.set(.5,11/16),this.sprite.position.set(65,60),this.container.addChild(this.sprite),this.sprite.rotation=2*Math.PI*-.08,this.update(null)},t.prototype.update=function(t){this.menu.update(t)},t}(),Nt=function(){function t(){this.menu=new Rt,this.modeName="about"}return t.prototype.init=function(t){var e=this;this.sge=t,this.container=new PIXI.Container,this.menu.init(t,this.container,"About"),this.menu.addButtonSimple("Back").onClick=function(){e.menu.changeModeTo("title")},this.menu.addButtonSimple("Made in 72 hours").onClick=function(){},this.menu.addButtonSimple("For Ludum Dare 40 (ldjam.com)").onClick=function(){},this.menu.addOptionSimple("Art / programming / design / levelsdw","stevie",[{label:"Stevie B.",value:"Stevie B."}]),this.menu.addOptionSimple("Design / testing / levels","brenden",[{label:"Brenden B.",value:"Brenden B."}]),this.menu.addOptionSimple("Music / Sfx / Design","casey",[{label:"Casey B.",value:"Casey B."}]),this.update(null)},t.prototype.update=function(t){this.menu.update(t)},t}(),Yt=function(){function t(){this.modeName="game"}return t.prototype.init=function(t){this.sge=t,this.container=new PIXI.Container,this.update(null)},t.prototype.update=function(t){},t}(),zt=function(){function t(){this.menu=new Rt,this.modeName="sound-options"}return t.prototype.init=function(t){var e=this;this.sge=t,this.container=new PIXI.Container,this.menu.init(t,this.container,"Sound Options"),this.menu.addOptionSimple("Sounds","muteSound",[{label:"on",value:!1},{label:"off",value:!0}]).onClick=function(){q("gui:toggle-sounds")},this.menu.addOptionSimple("Music","muteMusic",[{label:"on",value:!1},{label:"off",value:!0}]).onClick=function(){q("gui:toggle-music")},this.menu.addButtonSimple("Back").onClick=function(){e.menu.changeModeTo("title")},this.update(null)},t.prototype.update=function(t){this.menu.update(t)},t}(),Ut=function(){function t(){this.currentMenu=null,this.menus=[]}return t.prototype.init=function(t){this.sge=t,this.container=new PIXI.Container,this.container.visible=!1,this.menuManager=new pt,this.menuManager.init(t,"ludum-dare-settings-v001"),this.menuTitle=this.addMenu(new Gt),this.menuAbout=this.addMenu(new Nt),this.menuGame=this.addMenu(new Yt),this.menuSoundOptions=this.addMenu(new zt),this.currentItemIndicator=Lt(t,"ase-512-16",2,2),this.currentItemIndicator.anchor.set(.5,9/16),this.currentItemIndicator.scale.set(4),this.container.addChild(this.currentItemIndicator),this.menuManager.loadSettings()},t.prototype.addMenu=function(t){return t.init(this.sge),this.menuManager.addMenu(t),t},t.prototype.getMode=function(){return this.menuManager.getMode()},t.prototype.update=function(){this.sge.keyboard.justPressed(a.escape)&&(this.menuManager.changeMode("title"),At()),this.menuManager.update(),this.container.visible="game"!==this.menuManager.getMode(),this.currentItemIndicator.visible=!0,this.currentItemIndicator.x=this.menuManager.currentItemX,this.currentItemIndicator.y=this.menuManager.currentItemY},t}(),Wt=function(){function t(){this.frame=0,this.container=new PIXI.Container}return t.prototype.init=function(t,e,n){this.onDone=n,this.sge=t;var o=t.getTexture(e);this.sprite=new PIXI.Sprite(o),this.sprite.anchor.set(.5,.5),this.container.addChild(this.sprite)},t.prototype.update=function(){this.frame++;if(this.frame<120){var t=this.sge.getViewSize(),e=t.width,n=t.height,o=1;this.frame<40&&(o=this.frame/40),this.frame>80&&(o=(120-this.frame)/40),this.sprite.alpha=o,this.sprite.x=e/2,this.sprite.y=n/2;var i=Math.floor(e/this.sprite.texture.width),r=Math.floor(n/this.sprite.texture.height),s=i;r<s&&(s=r),this.sprite.scale.set(s)}else this.sprite.visible=!1,this.onDone&&(this.onDone(),this.onDone=null)},t}(),Vt=[{y:2,x:1},{y:2,x:2},{y:2,x:3},{y:2,x:4},{y:2,x:5},{y:3,x:1},{y:3,x:2},{y:3,x:3},{y:3,x:4},{y:3,x:5}],$t=2*Math.PI,Jt=function(){function t(){this.container=new PIXI.Container,this.hats=[],this.facingRight=!0,this.x=0,this.y=0}return t.prototype.init=function(t){this.sge=t},t.prototype.update=function(){var t=this.x,e=this.y;this.container.position.set(t,e),this.restackHats()},t.prototype.restackHats=function(){var t=this;N.forEach(this.hats,(function(e,n){e.position.set(0+(t.facingRight?1:-1),0-3*n),e.scale.set(t.facingRight?1:-1,1),0===n&&(e.rotation=0)}))},t.prototype.clear=function(){var t=this;N.forEach(this.hats,(function(e){t.container.removeChild(e)})),this.hats=[]},t.prototype.addHat=function(t){void 0===t&&(t=null);var e=[$t/64,$t/32,$t/16,0,0,0,-$t/16,-$t/32,-$t/64],n=N.sample(Vt),o=Lt(this.sge,"ase-512-16",n.y,n.x);t&&(o.texture.frame=t),o.anchor.set(.5,11/16),o.rotation=N.sample(e),0===this.hats.length&&(o.rotation=0),this.hats.push(o),this.container.addChild(o),this.restackHats()},t.prototype.removeBottomHat=function(){var t=this.hats.shift();return this.container.removeChild(t),t},t.prototype.removeTopHat=function(){var t=this.hats.pop();return this.container.removeChild(t),t},t}(),Kt=(Math.PI,function(){function t(){this.onGround=!1,this.isJumping=!1,this.isFalling=!0,this.isFastFalling=!0,this.jumpFrames=0,this.fallFrames=0,this.isGhost=!1,this.isTouchingFatal=!1,this.isMovingRight=!1,this.isMovingLeft=!1,this.movingFrames=0,this.vx=0,this.vy=0,this.subX=0,this.subY=0,this.x=0,this.y=0,this.accelX=0,this.accelY=0,this.width=8,this.height=8,this.groundDrag=.97,this.airDrag=.99,this.maxVx=64,this.maxVy=64,this.boundsX1=0,this.boundsX2=0,this.boundsY1=0,this.boundsY2=0,this.facingRight=!0}return t.prototype.reset=function(){this.vx=0,this.vy=0,this.accelX=0,this.accelY=0,this.onGround=!1,this.isJumping=!1,this.isFalling=!0,this.isFastFalling=!0,this.isGhost=!1},t.prototype.moveTo=function(t,e){this.subX=32*t,this.subY=32*e,this.recalcBounds()},t.prototype.recalcBounds=function(){this.x=Math.floor(this.subX/32),this.y=Math.floor(this.subY/32),this._setBounds(this.x-this.width/2,this.y-this.height,this.x+this.width/2,this.y)},t.prototype._setBounds=function(t,e,n,o){this.boundsX1=t,this.boundsX2=n,this.boundsY1=e,this.boundsY2=o},t.prototype.setStateFalling=function(){this.onGround=!1,this.isJumping=!1,this.isFalling=!0,this.isFastFalling=!0},t.prototype.setStateOnGround=function(){this.onGround=!0,this.isFalling=!1,this.isFastFalling=!1,this.isJumping=!1,this.fallFrames=0,this.vy=0,this.accelY=0},t.prototype.jump=function(){this.isJumping=!0,this.onGround=!1,this.isFalling=!1,this.isFastFalling=!1,this.jumpFrames=0,this.accelY=-8},t.prototype.update=function(t){this.isTouchingFatal=!1,this.isFalling&&(this.fallFrames++,this.isFastFalling?this.fallFrames<8?this.accelY=8:this.fallFrames<16?this.accelY=14:this.fallFrames<32?this.accelY=16:this.accelY=20:this.fallFrames<8?this.accelY=4:this.fallFrames<16?this.accelY=8:this.fallFrames<32?this.accelY=12:this.accelY=16),this.vy+=this.accelY,this.vx+=this.accelX,this.vx>this.maxVx&&(this.vx=this.maxVx),this.vx<-this.maxVx&&(this.vx=-this.maxVx),this.vy>this.maxVy&&(this.vy=this.maxVy),this.vy<-this.maxVy&&(this.vy=-this.maxVy),this.subY+=this.vy,this.subX+=this.vx,this.onGround?this.groundDrag&&(this.vx=this.vx*this.groundDrag):this.airDrag&&(this.vx=this.vx*this.airDrag),this.recalcBounds();var e=t.tileMap;if(!this.isGhost){var n=e.safeGetTileAtWorld(this.boundsX2,this.boundsY2-1),o=!1,i=0;n&&(n.canMove||(n.fatal&&(this.isTouchingFatal=!0),o=!0,i=16*n.bx*32-128-1,this.vx=0,this.subX=i));var r=e.safeGetTileAtWorld(this.boundsX2,this.boundsY1+1),s=!1;i=0,r&&(r.canMove||(r.fatal&&(this.isTouchingFatal=!0),s=!0,i=16*r.bx*32-128-1,this.vx=0,this.subX=i));var a=e.safeGetTileAtWorld(this.boundsX1,this.boundsY2-1),u=!1,c=0;a&&(a.canMove||(a.fatal&&(this.isTouchingFatal=!0),u=!0,c=16*(a.bx+1)*32+128+1,this.vx=0,this.subX=c));var h=e.safeGetTileAtWorld(this.boundsX1,this.boundsY1+1),d=!1;c=0,h&&(h.canMove||(h.fatal&&(this.isTouchingFatal=!0),d=!0,c=16*(h.bx+1)*32+128+1,this.vx=0,this.subX=c)),(o||s||u||d)&&this.recalcBounds();var l=e.safeGetTileAtWorld(this.boundsX1,this.boundsY2+1),f=!1,p=0;l&&(l.canMove||(l.fatal&&(this.isTouchingFatal=!0),f=!0,p=16*l.by));var m=e.safeGetTileAtWorld(this.boundsX2,this.boundsY2+1),v=!1;m&&(m.canMove||(m.fatal&&(this.isTouchingFatal=!0),v=!0,p=16*l.by));var _=e.safeGetTileAtWorld(this.boundsX1,this.boundsY1-1),y=!1;_&&(_.canMove||(_.fatal&&(this.isTouchingFatal=!0),y=!0,16*_.by));var b=e.safeGetTileAtWorld(this.boundsX2,this.boundsY1-1),g=!1;b&&(b.canMove||(b.fatal&&(this.isTouchingFatal=!0),g=!0,16*b.by)),this.isFalling&&(f||v)&&(this.subY=32*p,this.setStateOnGround()),this.isJumping&&(y||g)&&(this.setStateFalling(),this.vy<0&&(this.vy=0)),this.onGround&&(f||v||this.setStateFalling())}this.subY>=32768&&(this.subY=32768,this.setStateOnGround()),this.recalcBounds()},t}()),qt=(Math.PI,function(){function t(){}return t.prototype.update=function(t,e,n){if(t.isPressed(a.arrowRight)||t.isPressed(a.d)?(e.movingFrames++,e.isMovingRight=!0,e.isMovingLeft=!1,e.facingRight=!0):t.isPressed(a.arrowLeft)||t.isPressed(a.a)?(e.movingFrames++,e.isMovingLeft=!0,e.isMovingRight=!1,e.facingRight=!1):(e.movingFrames=0,e.isMovingLeft=!1,e.isMovingRight=!1),e.isMovingLeft||e.isMovingRight){var o=e.isMovingLeft?-1:1;e.vx*o<0?e.accelX=8*o:e.vx*o<16?e.accelX=4*o:e.vx*o<32?e.accelX=2*o:e.vx*o<e.maxVx&&(e.accelX=1*o)}else{var i=1,r=e.vx>0?e.vx:-e.vx;i=r>16?4:r>8?2:1,e.onGround||(i/=2)<1&&(i=1),e.vx>0?(e.accelX=-i,e.accelX<-e.vx&&(e.accelX=-e.vx)):e.vx<0?(e.accelX=i,e.accelX>-e.vx&&(e.accelX=-e.vx)):e.accelX=0}e.onGround?(t.justPressed(a.w)||t.justPressed(a.arrowUp))&&(e.isJumping=!0,e.onGround=!1,St(),e.accelY=-8,e.jumpFrames=0):e.isJumping?(e.jumpFrames++,!n&&e.jumpFrames>6&&t.isUp(a.w)&&t.isUp(a.arrowUp)?e.setStateFalling():e.jumpFrames<4?e.accelY=-32:e.jumpFrames<8?e.accelY=-16:e.jumpFrames<10?e.accelY=-2:e.jumpFrames<28?e.accelY=-1:e.setStateFalling()):e.isFalling&&!n&&t.isUp(a.space)&&(e.isFastFalling=!0)},t}()),Zt=(Math.PI,Ht(0,6)),Qt=Ht(1,2),te=Ht(1,0),ee=Ht(1,1),ne=Ht(2,0),oe=function(){function t(){this.container=new PIXI.Container,this.isDying=!1,this.dyingFrames=0,this.hats=new Jt,this.bounds=new Kt,this.controller=new qt,this.pastPositions=[],this.followers=[]}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",1,1),this.body.anchor.set(.5,1),this.head=Lt(this.context.sge,"ase-512-16",1,2),this.head.anchor.set(.5,1),this.bounds.airDrag=0,this.bounds.groundDrag=0,this.hats.init(this.context.sge),this.container.addChild(this.body),this.container.addChild(this.head),this.container.addChild(this.hats.container);for(var e=0;e<1;e++)this.addFollower()},t.prototype.reset=function(){this.bounds.reset(),this.hats.clear(),this.pastPositions=[],this.isDying=!1},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t.prototype.addFollower=function(){var t=N.sample([3,5]),e=Lt(this.context.sge,"ase-512-16",1,t);e.anchor.set(.5,1),this.followers.push(e),this.container.addChild(e)},t.prototype.clearFollowers=function(){var t=this;N.forEach(this.followers,(function(e){t.container.removeChild(e)})),this.followers=[],this.addFollower()},t.prototype.die=function(){this.isDying||(this.context.achievements.addAchievement("You died!"),Tt(),this.isDying=!0,this.dyingFrames=0,this.bounds.reset(),this.bounds.isGhost=!0,this.bounds.jump())},t.prototype.update=function(){this.bounds.width=8,this.bounds.height=14,"game"===this.context.menuManager.getMode()&&this.controller.update(this.context.sge.keyboard,this.bounds,this.isDying),this.bounds.update(this.context),this.pastPositions.unshift([this.bounds.x,this.bounds.y,this.bounds.facingRight]),this.pastPositions.length>300&&this.pastPositions.pop();for(var t=0;t<this.followers.length;t++){var e=this.followers[t],n=5*t+5;if(this.pastPositions.length>n){var o=this.pastPositions[n];e.position.set(o[0]-this.bounds.x,o[1]-this.bounds.y),e.scale.x=o[2]?1:-1}else e.position.set(0,0)}if(this.context.sge.keyboard.justPressed(a.space)&&this.hats.hats.length>0){this.context.sounds.playThrowHat();var i=this.hats.removeBottomHat();this.context.achievements.addAchievement("Hats off to you!"),console.log("throw a hat!");var r=this.context.hats.createAt(this.bounds.x,this.bounds.y-16-8);r.body.texture.frame=i.texture.frame,r.bounds.maxVy=16;var s=1e3;this.bounds.facingRight||(s=-s),r.bounds.vx=s}this.container.position.set(this.bounds.x,this.bounds.y),this.body.position.set(0,0),this.bounds.isFalling?this.body.texture.frame=te:this.bounds.isJumping?this.body.texture.frame=ne:this.body.texture.frame=ee,this.head.position.set(0,-16),this.head.scale.x=this.bounds.facingRight?1:-1,this.bounds.isTouchingFatal&&(this.isDying||this.die()),this.isDying&&this.dyingFrames++,this.head.texture.frame=this.isDying?Zt:Qt,this.hats.x=0,this.hats.y=-24,this.hats.facingRight=this.bounds.facingRight,this.hats.update()},t}(),ie=(Math.PI,[Xt(4,1,2),Xt(4,16,2),Xt(5,16,2),Xt(3,16,2)]),re=function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new se;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t.prototype.drawBounds=function(t){N.forEach(this.items,(function(e){t.draw(e.bounds)}))},t}(),se=function(){function t(){this.container=new PIXI.Container,this.hats=new Jt,this.frame=0,this.frameIdx=0,this.jumpFrameCounter=0,this.bounds=new Kt,this.isReadyToBeDestroyed=!1,this.mode=0}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",4,1),this.body.anchor.set(.5,1),this.hats.init(this.context.sge),this.frameIdx=N.random(0,1,!1),this.container.addChild(this.body),this.container.addChild(this.hats.container)},t.prototype.destroy=function(){var t=this;this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0,this.context.particles.emitBlobParts(this.bounds.x,this.bounds.y-4),this.context.sounds.playSmash(),N.forEach(this.hats.hats,(function(e,n){t.popHat(e,n)})))},t.prototype.popHat=function(t,e){var n=this.context.hats.createAt(this.bounds.x,this.bounds.y-4-8-3*e);n.body.texture.frame=t.texture.frame,n.bounds.vx=N.random(15,64),1===N.random(0,1)&&(n.bounds.vx*=-1),n.bounds.vy=N.random(-300,-50)},t.prototype.update=function(){if(!this.isReadyToBeDestroyed){var t=this.context.getPlayerHatCount();this.frame++,this.frame%16==0&&(this.mode=0,t>20&&(this.mode=3),t>30&&(this.mode=1),t>40&&(this.mode=2),this.frameIdx++,this.frameIdx=this.frameIdx%ie[this.mode].length,this.body.texture.frame=ie[this.mode][this.frameIdx]),this.bounds.isJumping&&this.bounds.jumpFrames++,this.bounds.jumpFrames>90&&(this.bounds.setStateFalling(),this.bounds.jumpFrames=0),t>20&&this.bounds.onGround&&(this.jumpFrameCounter--,this.jumpFrameCounter<=0&&(this.jumpFrameCounter=N.random(60,120),this.bounds.jump())),this.bounds.update(this.context),this.container.position.set(this.bounds.x,this.bounds.y),this.body.scale.set(this.bounds.facingRight?1:-1,1),this.hats.x=0,this.hats.y=(0===this.frameIdx?0:1)-9,this.hats.facingRight=this.bounds.facingRight,this.hats.update()}},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t}(),ae=(Math.PI,Xt(2,1,5)),ue=Xt(3,1,5),ce=[];N.forEach(ae,(function(t){ce.push(t)})),N.forEach(ue,(function(t){ce.push(t)}));var he=function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new de;return n.init(this.context),n.moveTo(t,e),n.body.texture.frame=N.sample(ce),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t.prototype.drawBounds=function(t){N.forEach(this.items,(function(e){t.draw(e.bounds)}))},t}(),de=function(){function t(){this.container=new PIXI.Container,this.frame=0,this.bounds=new Kt,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",2,1),this.body.anchor.set(.5,11/16),this.container.addChild(this.body)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0)},t.prototype.update=function(){this.isReadyToBeDestroyed||(this.frame++,this.bounds.update(this.context),this.container.position.set(this.bounds.x,this.bounds.y),this.body.scale.set(this.bounds.facingRight?1:-1,1))},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t}(),le=function(){function t(){this.maxParticles=200,this.particles=[]}return t.prototype.init=function(t,e,n){this.sge=t,this.textureKey=e,this.container=new PIXI.Container,this.textureRects=N.map(n,(function(t){return new PIXI.Rectangle(t[0],t[1],t[2],t[3])}))},t.prototype.getNextSprite=function(){for(var t=0;t<this.particles.length;t++){if(!(o=this.particles[t]).sprite.visible)return o}if(this.particles.length<this.maxParticles){var e=this.sge.getTexture(this.textureKey),n=new PIXI.Sprite(new PIXI.Texture(e.baseTexture));n.texture.frame=this.textureRects[0],n.anchor.set(.5,.5),this.container.addChild(n);var o={sprite:n,vx:0,vy:0,vr:0,ax:0,ay:0,alpha1:1,alpha2:0,scale1:2,scale2:1,framesStart:100,framesLeft:100};return this.particles.push(o),o}return null},t.prototype.update=function(){for(var t=0;t<this.particles.length;t++){var e=this.particles[t];if(e.sprite.visible){e.sprite.x+=e.vx,e.sprite.y+=e.vy,e.sprite.rotation+=e.vr,e.framesLeft--,e.vx+=e.ax,e.vy+=e.ay;var n=1-e.framesLeft/e.framesStart;e.sprite.alpha=(1-n)*e.alpha1+n*e.alpha2,e.sprite.scale.set((1-n)*e.scale1+n*e.scale2),e.framesLeft<=0&&(e.sprite.visible=!1)}}},t.prototype.emit=function(t,e,n){var o=1,i=n.vMax,r=0,s=0,a=0,u=0,c=60,h=60;n&&(o=N.random(n.numMin||1,(n.numMax||1)+1,!1),n.rMin&&(r=n.rMin),n.rMax&&(s=n.rMax),n.ax&&(a=n.ax),n.ay&&(u=n.ay),c=n.framesMin||c,h=n.framesMax||h);for(var d=0;d<o;d++){var l=this.getNextSprite();if(!l)break;n&&n.rects?l.sprite.texture.frame=N.sample(n.rects):l.sprite.texture.frame=N.sample(this.textureRects),l.sprite.visible=!0,l.sprite.position.x=t,l.sprite.position.y=e,l.vx=N.random(-i,i,!0),l.vy=N.random(-i,i,!0),l.vr=N.random(r,s,!1),l.ax=a,l.ay=u,l.alpha1=1,l.alpha2=0,l.scale1=2,l.scale2=.25,l.framesStart=l.framesLeft=N.random(c,h,!1)}},t}();var fe=function(){function t(){this.emitters=[]}return t.prototype.init=function(t){this.sge=t,this.container=new PIXI.Container,this.particleEmitterBlob=this.addEmitter(),this.particleEmitterDecor=this.addEmitter()},t.prototype.addEmitter=function(t){void 0===t&&(t=[[0,0,8,8]]);var e=new le;return e.init(this.sge,"ase-512-16",t),this.container.addChild(e.container),this.emitters.push(e),e},t.prototype.emitDecorParts=function(t,e,n){var o=function(t,e){for(var n=[],o=16/e,i=0;i<e;i++)for(var r=0;r<e;r++)n.push(new PIXI.Rectangle(t.x+i*o,t.y+r*o,o,o));return n}(t,4);this.particleEmitterBlob.emit(e,n,{numMin:4,numMax:8,vMax:20/60,ay:.02,rMin:2*-Math.PI/60,rMax:2*Math.PI/60,framesMin:60,framesMax:180,rects:o})},t.prototype.emitBlobParts=function(t,e){var n=Xt(4,3,2);this.particleEmitterBlob.emit(t,e,{numMin:1,numMax:5,vMax:20/60,ay:.02,rMin:2*-Math.PI/60,rMax:2*Math.PI/60,framesMin:30,framesMax:120,rects:n})},t.prototype.update=function(){N.forEach(this.emitters,(function(t){t.update()}))},t}(),pe=function(){function t(){this.container=new PIXI.Container,this.spriteIdx=0,this.sprites=[]}return t.prototype.init=function(t){this.context=t},t.prototype.clear=function(){this.spriteIdx=0,N.forEach(this.sprites,(function(t){t.visible=!1}))},t.prototype.draw=function(t){var e=this.getSprite();e.x=t.boundsX1,e.y=t.boundsY1,e.width=t.boundsX2-t.boundsX1,e.height=t.boundsY2-t.boundsY1,e.visible=!0},t.prototype.getSprite=function(){if(this.spriteIdx++,this.spriteIdx>this.sprites.length){var t=Lt(this.context.sge,"ase-512-16",0,1);return this.container.addChild(t),this.sprites.push(t),t}return this.sprites[this.spriteIdx-1]},t}();function me(t,e){return!(t.boundsX2<e.boundsX1||t.boundsX1>e.boundsX2)&&!(t.boundsY2<e.boundsY1||t.boundsY1>e.boundsY2)}function ve(t,e,n,o,i,r,s,a,u){void 0===u&&(u=!0);for(var c=t.width,h=t.height,d=0;d<h;d++)for(var l=0;l<c;l++){var f=l+e,p=d+n,m=p*o.blockWidth+f,v=d*c+l,_=(o.data[m],r[v]-1);if(_>1){var y=!1,b=!1,g=0;_>268435456&&(2147483648&_&&(_-=2147483648,y=!y),1073741824&_&&(_-=1073741824,b=!b),536870912&_&&(_-=536870912,y=!y,g=.5*Math.PI,b&&!y&&(g=.5*-Math.PI),!b&&y&&(b=!b,y=!y)),2684354560&_&&(_-=2684354560,_=4),3221225472&_&&(_-=3221225472,_=4),1610612736&_&&(_-=1610612736,_=4));var x=_%32,w=Math.floor(_/32);s&&(x=(_=s(_,x,w))%32,w=Math.floor(_/32));var A="_"+w+"_"+x;if(x>=512||w>=512){console.error("bad tex",_,x,w," at ",l,d);continue}if(!1===o.hasTile(A)){var T={name:A,textureName:"public/ludumdare40/images/ase-512-16.png",tx:x,ty:w};o.addTile(T)}var P=o.setTileAtEx(i,f,p,A,y,b,g);a&&a(P,_,x,w)}else if(u){P=o.clearTileAt(i,f,p);a&&a(P,_,0,0)}}}Math.PI;var _e=Xt(5,6,2),ye=Xt(5,8,2),be=Xt(5,10,2),ge=function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new xe;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t.prototype.drawBounds=function(t){N.forEach(this.items,(function(e){t.draw(e.bounds)}))},t}(),xe=function(){function t(){this.container=new PIXI.Container,this.isPressed=!1,this.framesSincePressed=0,this.bounds=new Kt,this.buttonType=0,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",4,1),this.body.anchor.set(.5,1),this.container.addChild(this.body)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0,this.context.sounds.playSmash())},t.prototype.update=function(){this.isReadyToBeDestroyed||(this.isPressed&&(this.framesSincePressed++,this.framesSincePressed>180&&(this.isPressed=!1,this.framesSincePressed=0)),1===this.buttonType?this.body.texture.frame=_e[this.isPressed?1:0]:0===this.buttonType?this.body.texture.frame=ye[this.isPressed?1:0]:2===this.buttonType&&(this.body.texture.frame=be[this.isPressed?1:0]),this.bounds.update(this.context),this.container.position.set(this.bounds.x,this.bounds.y))},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t}();function we(t,e,n){return t==32*e+n}function Ae(t,e,n,o,i,r){console.log("load map",i),N.forEach(i.layers,(function(r){console.log("processing layer",r.name,r),"Background"===r.name&&function(t,e,n,o,i,r){ve(t,e,n,o,0,r,(function(t){return t}),(function(t,e){}))}(i,t,e,n,0,r.data),"Background-Decor"===r.name&&function(t,e,n,o,i,r){ve(t,e,n,o,1,r,(function(t){return t}),(function(t,e){}))}(i,t,e,n,0,r.data),"Wall"===r.name&&function(t,e,n,o,i,r){ve(t,e,n,o,2,r,null,(function(t,e){t.canMove=e<=1,we(e,6,4)&&(t.hatCountHide=1),we(e,6,5)&&(t.hatCountHide=10),we(e,6,6)&&(t.hatCountHide=20),we(e,6,7)&&(t.hatCountHide=30),we(e,6,8)&&(t.hatCountHide=40),we(e,6,9)&&(t.hatCountHide=50),we(e,7,3)&&(t.fatal=!0),we(e,7,4)&&(t.hatCountShow=1,t.fatal=!0),we(e,7,5)&&(t.hatCountShow=10,t.fatal=!0),we(e,7,6)&&(t.hatCountShow=20,t.fatal=!0),we(e,7,7)&&(t.hatCountShow=30,t.fatal=!0),we(e,7,8)&&(t.hatCountShow=40,t.fatal=!0),we(e,7,9)&&(t.hatCountShow=50,t.fatal=!0),we(e,4,7)&&(t.hideBossButtonPressed=!0,t.canMove=!1),we(e,4,9)&&(t.hideBossDefeated=!0,t.canMove=!1),we(e,4,11)&&(t.hideMidButtonPressed=!0,t.canMove=!1),we(e,14,5)&&(console.log("hit hat c",e),i.hatCounters.push({bx:t.bx,by:t.by,data:{type:"hat"}})),we(e,15,4)&&(console.log("hit hat c",e),i.hatCounters.push({bx:t.bx,by:t.by,data:{type:"lava"}}))}))}(i,t,e,n,o,r.data),"Decor"===r.name&&function(t,e,n,o,i,r){ve(t,e,n,o,3,r,null,(function(t,e){}))}(i,t,e,n,0,r.data),"Marker"===r.name&&function(t,e,n,o,i,r){ve(t,e,n,o,4,r,null,(function(t,e,n,o){e>1&&(we(e,1,2)?(console.log("marker hit spawn",e),i.spawn={bx:t.bx,by:t.by}):we(e,4,1)?(console.log("marker hit blob",e),i.blobs.push({bx:t.bx,by:t.by})):we(e,2,1)?(console.log("marker hit hat",e),i.hats.push({bx:t.bx,by:t.by})):we(e,5,6)?(console.log("marker hit button1",e),i.buttons.push({bx:t.bx,by:t.by,data:{buttonType:1}})):we(e,5,8)?(console.log("marker hit button 2",e),i.buttons.push({bx:t.bx,by:t.by,data:{buttonType:0}})):we(e,5,10)?(console.log("marker hit button 3",e),i.buttons.push({bx:t.bx,by:t.by,data:{buttonType:2}})):we(e,15,5)?(console.log("marker hit text",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"wasd or arrows to move and jump"}})):we(e,15,6)?(console.log("marker hit text",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"collect hats to change blocks"}})):we(e,15,7)?(console.log("marker hit text",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"Press button to WIN"}})):we(e,15,8)?(console.log("space throws hats",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"space throws hats"}})):we(e,15,9)?(console.log("space throws hats",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"warning: more hats, more problems"}})):we(e,15,10)?(console.log("space throws hats",e),i.texts.push({bx:t.bx,by:t.by,data:{text:"good job! halfway there!"}})):we(e,2,13)?i.decors.push({bx:t.bx,by:t.by,data:{idx:0}}):we(e,3,13)?i.decors.push({bx:t.bx,by:t.by,data:{idx:1}}):we(e,4,13)?i.decors.push({bx:t.bx,by:t.by,data:{idx:2}}):we(e,1,13)?i.decors.push({bx:t.bx,by:t.by,data:{idx:3}}):console.warn("marker UNKNOWN",e))}))}(i,t,e,n,o,r.data)}))}var Te=function(){function t(){this.frames=0,this.lastHats=0,this.isScanning=!0,this.scanY=0}return t.prototype.update=function(t){this.frames++;var e=t.player.hats.hats.length;if(this.isScanning){var n=t.tileMap,o=this.scanY;if(this.scanY++,o>=n.blockHeight)this.isScanning=!1;else for(var i=0;i<n.blockWidth;i++){var r=n.getTileAt(i,o);r.hideBossButtonPressed&&(r.canMove=t.pressedBossButton,r.sprites[2].alpha=r.canMove?.15:1),r.hideBossDefeated&&(r.canMove=t.defeatedBoss,r.sprites[2].alpha=r.canMove?.15:1),r.hideMidButtonPressed&&(r.canMove=t.pressedMidButton,r.sprites[2].alpha=r.canMove?.15:1),r.hatCountHide&&(r.hatCountHide<=e?(r.canMove=!0,r.sprites[2].alpha=.15):(r.canMove=!1,r.sprites[2].alpha=1)),r.hatCountShow&&(e>=r.hatCountShow?(r.canMove=!1,r.sprites[2].alpha=1):(r.canMove=!0,r.sprites[2].alpha=.15))}}else this.lastHats=e,this.isScanning=!0,this.scanY=0},t}(),Pe=(Math.PI,function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new Ie;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t}()),Ie=function(){function t(){this.container=new PIXI.Container,this.isReadyToBeDestroyed=!1,this.type="hat"}return t.prototype.init=function(t){this.context=t,this.text=new PIXI.extras.BitmapText("99",{font:"8px defaultfont",align:"left"}),this.text.anchor=new PIXI.Point(0,0),this.container.addChild(this.text),this.text.position.set(-2.25,0)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0)},t.prototype.update=function(){this.isReadyToBeDestroyed||("hat"===this.type?this.text.text=""+this.context.getPlayerHatCount():this.text.text=""+this.context.getPlayerLavaCount())},t.prototype.moveTo=function(t,e){this.container.x=t,this.container.y=e},t}(),Me=(Math.PI,function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new ke;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t}()),ke=function(){function t(){this.container=new PIXI.Container,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.text=new PIXI.extras.BitmapText("this is some text",{font:"8px defaultfont",align:"left"}),this.text.anchor=new PIXI.Point(0,0),this.container.addChild(this.text),this.text.position.set(-2.25,0)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0)},t.prototype.update=function(){this.isReadyToBeDestroyed},t.prototype.moveTo=function(t,e){this.container.x=t,this.container.y=e},t}(),Se=(Math.PI,Xt(7,14,2)),je=function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new Be;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t.prototype.drawBounds=function(t){N.forEach(this.items,(function(e){t.draw(e.bounds)}))},t}(),Be=function(){function t(){this.container=new PIXI.Container,this.hats=new Jt,this.frame=0,this.frameIdx=0,this.framesTillJump=0,this.bounds=new Kt,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",7,15),this.body.anchor.set(.5,1),this.framesTillJump=N.random(0,120),this.hats.init(this.context.sge),this.frameIdx=N.random(0,1,!1),this.container.addChild(this.body),this.container.addChild(this.hats.container)},t.prototype.destroy=function(){var t=this;this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0,this.context.particles.emitBlobParts(this.bounds.x,this.bounds.y-4),this.context.sounds.playSmash(),N.forEach(this.hats.hats,(function(e,n){t.popHat(e,n)})))},t.prototype.popHat=function(t,e){var n=this.context.hats.createAt(this.bounds.x,this.bounds.y-4-8-3*e);n.body.texture.frame=t.texture.frame,n.bounds.vx=N.random(15,64),1===N.random(0,1)&&(n.bounds.vx*=-1),n.bounds.vy=N.random(-300,-50)},t.prototype.update=function(){this.isReadyToBeDestroyed||(this.frame++,this.frame%16==0&&(this.frameIdx++,this.frameIdx=this.frameIdx%Se.length,this.body.texture.frame=Se[this.frameIdx]),this.bounds.onGround&&(this.framesTillJump--,this.framesTillJump<=0&&(this.bounds.jump(),this.framesTillJump=N.random(0,120))),this.bounds.update(this.context),this.container.position.set(this.bounds.x,this.bounds.y),this.body.scale.set(this.bounds.facingRight?1:-1,1),this.hats.x=0,this.hats.y=(0===this.frameIdx?0:1)-9,this.hats.facingRight=this.bounds.facingRight,this.hats.update())},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t}(),Ce=(Math.PI,[Xt(2,13,3),Xt(3,13,3),Xt(4,13,1),Xt(1,13,4)]),Oe=function(){function t(){this.items=[]}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new Fe;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerDecor.addChild(n.container),n},t.prototype.update=function(){N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerDecor.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerDecor.removeChild(e.container)})),this.items=[]},t.prototype.drawBounds=function(t){N.forEach(this.items,(function(e){t.draw(e.bounds)}))},t}(),Fe=function(){function t(){this.container=new PIXI.Container,this.frame=0,this.frameIdx=0,this.objIndex=0,this.bounds=new Kt,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.body=Lt(this.context.sge,"ase-512-16",4,1),this.body.anchor.set(.5,1),this.frameIdx=N.random(0,999,!1),this.container.addChild(this.body)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0,this.context.particles.emitDecorParts(this.body.texture.frame,this.bounds.x,this.bounds.y-4),this.context.sounds.playSmash())},t.prototype.update=function(){if(!this.isReadyToBeDestroyed){this.frame++,this.frame%16==0&&this.frameIdx++;var t=Ce[this.objIndex];this.frameIdx=this.frameIdx%t.length,this.body.texture.frame=t[this.frameIdx],this.bounds.update(this.context),this.container.position.set(this.bounds.x,this.bounds.y),this.body.scale.set(this.bounds.facingRight?1:-1,1)}},t.prototype.moveTo=function(t,e){this.bounds.moveTo(t,e)},t}(),Ee=(Math.PI,function(){function t(){this.items=[],this.keys={}}return t.prototype.init=function(t){this.context=t},t.prototype.createAt=function(t,e){var n=new De;return n.init(this.context),n.moveTo(t,e),this.items.push(n),this.context.layerObjects.addChild(n.container),n},t.prototype.addAchievement=function(t){if(!this.keys[t]){var e=this.context.player.bounds,n=e.x,o=e.y;n+=N.random(-20,20),o+=N.random(-20,20),this.createAt(n,o).text.text="Achievement! "+t+" "+N.sample(["Good job!","Go you!","You are the best!","Wow!","Have a free hat!"]),this.keys[t]=t,this.context.hats.createAt(n,o-48).bounds.vx=N.random(-64,64)}},t.prototype.update=function(t){if("game"===this.context.menuManager.getMode()){var e=t.player.bounds,n=(e.x,e.y,t.sge.keyboard);(n.justPressed(a.d)||n.justPressed(a.arrowRight))&&this.addAchievement("Moved!"),(n.justPressed(a.w)||n.justPressed(a.arrowUp))&&this.addAchievement("You can jump!"),(n.justPressed(a.a)||n.justPressed(a.arrowLeft))&&this.addAchievement("Moved the wrong way!"),(n.justPressed(a.s)||n.justPressed(a.arrowDown))&&this.addAchievement("Tried to duck, but could not!")}N.forEach(this.items,(function(t){t.update()})),this.destroyMarked()},t.prototype.destroyMarked=function(){var t=this,e=N.remove(this.items,(function(t){return t.isReadyToBeDestroyed}));e.length>0&&(N.forEach(e,(function(e){t.context.layerObjects.removeChild(e.container)})),console.log("cleaning up "+e.length+" items - "+this.items.length+" left"))},t.prototype.clear=function(){var t=this;this.keys={},N.forEach(this.items,(function(e){e.isReadyToBeDestroyed=!0,t.context.layerObjects.removeChild(e.container)})),this.items=[]},t}()),De=function(){function t(){this.container=new PIXI.Container,this.isReadyToBeDestroyed=!1}return t.prototype.init=function(t){this.context=t,this.text=new PIXI.extras.BitmapText("this is some text",{font:"8px defaultfont",align:"left"}),this.text.anchor=new PIXI.Point(0,0),this.container.addChild(this.text),this.text.position.set(-2.25,0)},t.prototype.destroy=function(){this.isReadyToBeDestroyed||(this.isReadyToBeDestroyed=!0)},t.prototype.update=function(){this.isReadyToBeDestroyed},t.prototype.moveTo=function(t,e){this.container.x=t,this.container.y=e},t}(),Re=(PIXI.Rectangle,PIXI.Sprite,PIXI.utils.TextureCache,Math.PI,function(){function t(){this.tileMap=null,this.mapScanner=new Te,this.menuManager=new Ut,this.sounds=o,this.rootContainer=new PIXI.Container,this.rootContainerUI=new PIXI.Container,this.layerDecor=new PIXI.Container,this.layerObjects=new PIXI.Container,this.layerParticles=new PIXI.Container,this.layerBounds=new PIXI.Container,this.particles=new fe,this.boundsDrawer=new pe,this.blobs=new re,this.hats=new he,this.hatCounters=new Pe,this.buttons=new ge,this.texts=new Me,this.bossHeads=new je,this.decors=new Oe,this.achievements=new Ee,this.pressedBossButton=!1,this.pressedMidButton=!1,this.defeatedBoss=!1,this.hatCount=0}return t.prototype.onLoaded=function(t){var e=this;this.sge=t,t.renderer.transparent=!1,t.renderer.backgroundColor=4281545523,this.menuManager.init(this.sge),this.rootContainer.visible=!1,this.rootContainerUI.visible=!1,this.splash=new Wt,this.splash.init(this.sge,"prariesnailgames",(function(){e.rootContainer.visible=!0,e.rootContainerUI.visible=!0})),this.particles.init(this.sge),this.blobs.init(this),this.hats.init(this),this.hatCounters.init(this),this.buttons.init(this),this.texts.init(this),this.bossHeads.init(this),this.decors.init(this),this.achievements.init(this),this.player=new oe,this.player.init(this),this.reset(),this.addLayer(this.tileMap.containers[0]),this.addLayer(this.tileMap.containers[1]),this.addLayer(this.tileMap.containers[2]),this.addLayer(this.layerDecor),this.addLayer(this.layerObjects),this.addLayer(this.tileMap.containers[3]),this.layerMarkers=this.addLayer(this.tileMap.containers[4]),this.layerMarkers.visible=!1,this.addLayer(this.layerParticles),this.layerParticles.addChild(this.particles.container),this.addLayer(this.layerBounds),this.layerBounds.visible=!1,this.boundsDrawer.init(this),this.layerBounds.addChild(this.boundsDrawer.container),this.addLayerUI(this.menuManager.menuManager.container),this.addLayerUI(this.menuManager.container),this.layerObjects.addChild(this.player.container),this.sge.stage.addChild(this.rootContainer),this.rootContainer.scale.set(4),this.rootContainer.position.set(0,400),this.sge.stage.addChild(this.rootContainerUI),this.sge.stage.addChild(this.splash.container),this.rootContainer.scale},t.prototype.getPlayerHatCount=function(){return this.hatCount},t.prototype.getPlayerLavaCount=function(){return this.player.followers.length-1},t.prototype.addLayer=function(t){return void 0===t&&(t=null),t||(t=new PIXI.Container),this.rootContainer.addChild(t),t},t.prototype.addLayerUI=function(t){return void 0===t&&(t=null),t||(t=new PIXI.Container),this.rootContainerUI.addChild(t),t},t.prototype.onUpdate=function(){var t=this;if(this.hatCount=this.player.hats.hats.length,this.hatCount>=100?this.achievements.addAchievement("100 Hat Hatfessional"):this.hatCount>=50?this.achievements.addAchievement("50 Hat Hatsterminator"):this.hatCount>=40?this.achievements.addAchievement("40 Hat Hatiator"):this.hatCount>=30?this.achievements.addAchievement("30 Hat Hatformer"):this.hatCount>=20?this.achievements.addAchievement("20 Hat Novice"):this.hatCount>=10&&this.achievements.addAchievement("10 Hat Newbie"),this.sge.keyboard.justPressed(a.r)&&this.reset(),this.sge.keyboard.justPressed(a.h))for(var e=0;e<10;e++)this.player.hats.addHat();this.mapScanner.update(this),this.boundsDrawer.clear(),this.splash.update(),this.player.update(),this.player.isDying&&this.player.dyingFrames>180&&this.reset(),this.blobs.update(),this.hats.update(),this.hatCounters.update(),this.buttons.update(),this.texts.update(),this.bossHeads.update(),this.decors.update(),this.achievements.update(this);var n=this.player;N.forEach(this.blobs.items,(function(e){var o=e;if(me(n.bounds,o.bounds))if(n.bounds.boundsY2<o.bounds.boundsY2&&n.bounds.vy>0)if(n.bounds.subY=32*o.bounds.boundsY1-32-16,n.bounds.vy=0,n.bounds.accelY=0,n.bounds.jump(),n.bounds.recalcBounds(),o.hats.hats.length>0){t.achievements.addAchievement("THERE CAN ONLY BE ONE Hatmaster");var i=o.hats.removeTopHat();o.popHat(i,o.hats.hats.length),t.sounds.playSmash()}else 1===o.mode?t.sounds.playMetal():2===o.mode?n.die():o.isReadyToBeDestroyed||o.destroy();else n.die()})),this.defeatedBoss=0===this.bossHeads.items.length,N.forEach(this.bossHeads.items,(function(e){var o=e;if(me(n.bounds,o.bounds))if(n.bounds.boundsY2<o.bounds.boundsY2&&n.bounds.vy>0)if(n.bounds.subY=32*o.bounds.boundsY1-32-16,n.bounds.vy=0,n.bounds.accelY=0,n.bounds.jump(),n.bounds.recalcBounds(),o.bounds.setStateFalling(),o.hats.hats.length>0){var i=o.hats.removeTopHat();o.popHat(i,o.hats.hats.length),t.sounds.playSmash()}else o.isReadyToBeDestroyed||(o.destroy(),t.achievements.addAchievement("Like a boss!"),t.sounds.playSmash(),t.bossHeads.items.length<=1&&t.sounds.playMusicDungeon());else n.die()})),N.forEach(this.decors.items,(function(e){var o=e;if(me(n.bounds,o.bounds)&&!e.isReadyToBeDestroyed){var i=t.hats.createAt(e.bounds.x,e.bounds.y-16);i.bounds.vy=N.random(-64,0),i.bounds.vx=N.random(-64,64),e.destroy(),3===e.objIndex?((i=t.hats.createAt(e.bounds.x,e.bounds.y-16)).bounds.vy=N.random(-64,0),i.bounds.vx=N.random(-64,64),(i=t.hats.createAt(e.bounds.x,e.bounds.y-16)).bounds.vy=N.random(-64,0),i.bounds.vx=N.random(-64,64),n.addFollower(),t.achievements.addAchievement("Lava lamp hunter!")):t.achievements.addAchievement("Take that environment!")}})),N.forEach(this.buttons.items,(function(e){var o=e;if(me(n.bounds,o.bounds)&&n.bounds.boundsY2<o.bounds.boundsY2&&n.bounds.vy>0&&!o.isPressed)if(o.isPressed=!0,t.sounds.playMetal(),t.achievements.addAchievement("Button pusher!"),1===o.buttonType){It(),t.pressedBossButton=!0,t.achievements.addAchievement("Time to hat-tack! Amirite?");var i=1+Math.floor(t.getPlayerHatCount()/7);i>10&&(i=10);for(var r=0;r<i;r++)for(var s=t.bossHeads.createAt(o.bounds.x+150-12*r,n.bounds.y),a=N.random(0,3,!1),u=0;u<a;u++)s.hats.addHat()}else 0===o.buttonType?(t.achievements.addAchievement("You won!"),Mt()):2===o.buttonType&&(t.achievements.addAchievement("Halfway champion!"),Pt(),t.pressedMidButton=!0)})),N.forEach(this.hats.items,(function(e){var o=!1;e.frame>30&&(N.forEach(t.blobs.items,(function(t){o||me(e.bounds,t.bounds)&&(t.isReadyToBeDestroyed||(t.hats.addHat(e.body.texture.frame),e.destroy(),o=!0))})),!o&&me(n.bounds,e.bounds)&&(e.isReadyToBeDestroyed||(t.achievements.addAchievement("Your baldness: cured!"),t.sounds.playPickup(),n.hats.addHat(e.body.texture.frame),e.destroy(),o=!0)))}));var o=this.sge.getViewSize(),i=o.width,r=o.height,s=-this.player.bounds.boundsX1*this.rootContainer.scale.x,u=-this.player.bounds.boundsY1*this.rootContainer.scale.y;this.rootContainer.position.set(s+i/2,u+r/2),this.particles.update(),this.menuManager.update()},t.prototype.reset=function(){var t=this;this.pressedBossButton=!1,this.pressedMidButton=!1,this.defeatedBoss=!1,this.resetTileMap();var e=this.mapMeta.spawn;this.player.reset(),this.player.moveTo(16*e.bx+8,16*e.by+14),this.blobs.clear(),N.forEach(this.mapMeta.blobs,(function(e){t.blobs.createAt(16*e.bx+8,16*e.by+8)})),this.hats.clear(),N.forEach(this.mapMeta.hats,(function(e){t.hats.createAt(16*e.bx+8,16*e.by+8)})),this.hatCounters.clear(),N.forEach(this.mapMeta.hatCounters,(function(e){t.hatCounters.createAt(16*e.bx+8,16*e.by+8).type=e.data.type})),this.buttons.clear(),N.forEach(this.mapMeta.buttons,(function(e){t.buttons.createAt(16*e.bx+8,16*e.by+8).buttonType=e.data.buttonType})),this.texts.clear(),N.forEach(this.mapMeta.texts,(function(e){t.texts.createAt(16*e.bx+8,16*e.by+8).text.text=e.data.text})),this.bossHeads.clear(),this.decors.clear(),N.forEach(this.mapMeta.decors,(function(e){t.decors.createAt(16*e.bx+8,16*e.by+8).objIndex=e.data.idx})),this.achievements.clear()},t.prototype.resetTileMap=function(){if(null===this.tileMap){var t=[];t.push({name:"default",textureName:"ase-512-16",tx:0,ty:0}),this.tileMap=new J(this.sge,16,t,5,(function(t,e,n){return{sprites:t,bx:e,by:n,canMove:!0,hatCountHide:0,hatCountShow:0,fatal:!1,hideBossDefeated:!1,hideBossButtonPressed:!1,hideMidButtonPressed:!1}}))}var e=["map-01-001","map-01-002","map-01-003","map-01-008","map-01-005"],n=["map-01-006","map-01-007","map-01-004","map-01-009"],o=e.length+5+n.length,i=e.length+n.length;e=N.shuffle(e),n=N.shuffle(n),this.mapMeta={spawn:null,blobs:[],hats:[],hatCounters:[],buttons:[],texts:[],decors:[]};this.tileMap.resize(21*o+2,26);var r=0;Ae(21*r,2,this.tileMap,this.mapMeta,this.sge.getJson("map-start")),r++;for(Math.ceil(i/2);e.length>0;){var s=e.shift();null,Ae(21*r,2+N.random(-2,1),this.tileMap,this.mapMeta,this.sge.getJson(s)),r++}for(Ae(21*r,2,this.tileMap,this.mapMeta,this.sge.getJson("map-mid")),Ae(21*++r,2,this.tileMap,this.mapMeta,this.sge.getJson("map-boss")),r++;n.length>0;){s=n.shift();null,Ae(21*r,2+N.random(-2,2),this.tileMap,this.mapMeta,this.sge.getJson(s)),r++}Ae(21*r,2,this.tileMap,this.mapMeta,this.sge.getJson("map-boss")),Ae(21*++r,2,this.tileMap,this.mapMeta,this.sge.getJson("map-end")),r++,function(t,e,n,o,i,r,s,a){void 0===a&&(a=null);for(var u=0;u<r;u++)for(var c=0;c<s;c++)t.setTileAt(e,o+u,i+c,n),a&&a(t.getTileAt(o+u,i+c))}(this.tileMap,2,"_7_3",0,25,21*o+1,1,(function(t){t.canMove=!1,t.fatal=!0}))},t}()),Le=(PIXI.Rectangle,PIXI.Sprite,PIXI.utils.TextureCache,new V),Xe=new Re;function He(){!function(t){ht=t,console.log("loading settings",t);try{var e=U.get(t);if(e){var n=JSON.parse(e);N.merge(ct,n)}}catch(t){console.error("Error loading menu settings")}}("ludum-dare-40-v003"),Le.preloadAudioSprites(["audioSprite"]),Le.preloadBitmapFonts(["defaultfont"]),Le.preloadSprites(["test-ship","prariesnailgames"]),Le.preloadSpriteSheets(["test-tileset","gui-tileset","ase-512-16"]),Le.preloadTiledMaps(["map-start","map-01-001","map-01-002","map-01-003","map-01-004","map-01-005","map-01-006","map-01-007","map-01-008","map-01-009","map-mid","map-boss","map-end"]),Le.preloadPackedSprites([])}!function(){function t(){Xe.onUpdate()}console.log("Running ludum dare start sample"),Le.init(),Le.createRenderer(),Le.stage,Le.renderer,He(),Le.preload("/public/ludumDare40",(function(){Le.onUpdateCallback=t,xt(Le),Xe.onLoaded(Le),Le.startGameLoop()})),window.onresize=function(){Le.resize()}}()}]);
//# sourceMappingURL=game.bundle.js.map